
<!--#include virtual="/server/header.fr.html" -->

<!-- This file is automatically generated by GNUnited Nations! -->
<title>Le piège JavaScript</title>

<!--#include virtual="/server/banner.fr.html" -->
<!--#include virtual="/philosophy/po/javascript-trap.translist" -->
<h2>Le piège JavaScript</h2>

<p>par <a href="http://www.stallman.org/">Richard Stallman</a></p>

<p><strong>Vous exécutez peut-être des programmes non libres sur votre
ordinateur chaque jour sans même vous en apercevoir &mdash;&nbsp;par
l'intermédiaire de votre navigateur web.</strong></p>

<p>Dans la communauté du logiciel libre, l'idée que les programmes non libres
maltraitent leurs utilisateurs est familière. Certains d'entre nous refusent
totalement d'installer des logiciels privateurs<a
href="#TransNote1"><sup>1</sup></a>, et beaucoup d'autres considèrent que la
non-liberté est une attaque contre le programme. Beaucoup d'utilisateurs
sont conscients que ce problème s'applique aussi aux modules que les
navigateurs proposent d'installer, car ils peuvent être libres ou non
libres.</p>

<p>Mais les navigateurs exécutent d'autres programmes non libres pour lesquels
ils ne demandent pas votre avis &mdash;&nbsp;des programmes que contiennent
certaines pages web ou vers lesquels elles ont des liens. Ces programmes
sont le plus souvent écrits en JavaScript, bien que d'autres langages
puissent être utilisés.</p>

<p>JavaScript (dont le nom officiel est ECMAscript, mais peu de gens utilisent
ce nom) était autrefois utilisé pour faire des effets frivoles, certes jolis
mais non essentiels à la navigation et aux fonctionnalités d'affichage. Il
était acceptable de les considérer comme de pures extensions du langage de
balises HTML, plutôt que comme de vrais logiciels&nbsp;; ils ne
représentaient pas un problème significatif.</p>

<p>Beaucoup de sites utilisent encore JavaScript de cette façon, mais certains
l'utilisent pour des programmes conséquents réalisant des travaux
importants. Par exemple, Google Docs télécharge sur votre machine un
programme JavaScript qui pèse un demi megaoctet, dans une forme compactée
que nous pourrions appeler Obscurscript car il n'y a aucun commentaire et
très peu d'espaces, et les noms de méthodes ne font qu'une lettre. Le code
source d'un programme est la forme préférée pour le modifier&nbsp;; le code
compacté n'est pas du code source, et le vrai code source n'est pas
disponible pour l'utilisateur.</p>

<p>Normalement, les navigateurs ne vous disent pas quand ils chargent des
programmes JavaScript. La plupart des navigateurs ont un moyen de désactiver
JavaScript totalement, mais aucun d'eux ne peut vérifier si des programmes
JavaScript sont non triviaux et non libres. Même si vous en étiez conscient,
cela vous donnerait beaucoup de peine d'identifier et bloquer ces
programmes. De toute façon, même au sein de la communauté du logiciel libre,
la plupart des utilisateurs ne sont pas conscients de ce problème&nbsp;; le
silence des navigateurs tend à le dissimuler.</p>

<p>Il est possible de publier un programme JavaScript en tant que logiciel
libre, en distribuant le code source sous une licence de logiciel
libre. Mais même si le code source du programme est disponible, il n'existe
pas de moyen facile d'exécuter votre version modifiée à la place de
l'original. Les navigateurs libres actuels ne proposent pas de
fonctionnalité permettant d'exécuter votre version modifiée à la place de
celle qui est fournie par la page. L'effet est comparable à la tivoïsation
bien que moins difficile à outrepasser.</p>

<p>JavaScript n'est pas le seul langage que les sites web utilisent pour les
programmes envoyés aux utilisateurs. Flash supporte la programmation par
l'intermédiaire d'une variante étendue de JavaScript. Il nous faudra étudier
le problème de Flash pour faire des recommandations appropriées. Silverlight
semble poser un problème similaire à Flash, excepté qu'il est pire, car
Microsoft l'utilise comme plate-forme pour des codecs non libres. Un
remplacement libre de Silverlight ne ferait pas l'affaire pour le monde du
libre, à moins qu'il ne propose des codecs de remplacement libres.</p>

<p>Les applets Java s'exécutent aussi dans le navigateur et soulèvent des
problèmes similaires. En général, toutes sortes d'applets système posent ce
genre de problème. Avoir un environnement d'exécution libre pour un applet
ne fait que déplacer le problème.</p>

<p>Un fort mouvement s'est développé qui appelle les sites web à ne communiquer
qu'avec des formats et des protocoles libres (certains disent
«&nbsp;ouverts&nbsp;»)&nbsp;; c'est-à-dire, dont la documentation est
publiée et que chacun est libre de mettre en œuvre. Avec la présence de
programmes dans les pages web, ce critère est nécessaire mais pas
suffisant. JavaScript lui-même, en tant que format, est libre : utiliser
JavaScript dans un site web n'est pas nécessairement mauvais. Cependant,
comme nous l'avons vu plus haut, ce n'est pas nécessairement bon. Quand le
site transmet un programme à l'utilisateur, il n'est pas suffisant que le
programme soit écrit dans un langage documenté et libre d'entraves&nbsp;; ce
programme doit être également libre. «&nbsp;Ne transmettre que des
programmes libres aux utilisateurs&nbsp;», cette règle doit faire partie des
critères définissant un comportement correct des sites web.</p>

<p>Le chargement et l'exécution silencieux de programmes non libres est l'un
des nombreux problèmes soulevés par les «&nbsp;applications web&nbsp;». Le
terme «&nbsp;application web&nbsp;» a été conçu pour ne pas tenir compte de
la distinction fondamentale entre un logiciel fourni aux utilisateurs et un
logiciel s'exécutant sur un serveur. Il peut faire référence à un programme
client spécialisé qui s'exécute dans un navigateur&nbsp;; il peut faire
référence à un logiciel serveur spécialisé&nbsp;; il peut faire référence à
un programme client spécialisé qui travaille main dans la main avec un
logiciel serveur spécialisé. Les côtés client et serveur soulèvent des
problèmes éthiques différents, même s'ils sont si intimement intégrés que
l'on pourrait dire qu'ils font partie d'un seul programme. Cet article ne
traite que du problème du logiciel client. Nous traiterons le problème du
côté serveur séparément.</p>

<p>Pratiquement, comment pouvons-nous traiter le problème des programmes
JavaScript non libres dans les sites web&nbsp;? Voici un plan d'action.</p>

<p>Que voulons-nous dire par « non trivial » ?. Puisque c'est une question
d'interprétation, il s'agit de concevoir un critère simple qui donne de bons
résultats, plutôt que de déterminer la seule réponse correcte.</p>
<p>
A titre d'essai, nous considérons un programme JavaScript comme non trivial
si :</p>

<ul>
  <li>il fait une requête Ajax ou est chargé en même temps que des scripts qui
font des requêtes Ajax,</li>

  <li>il charge des scripts externes de manière dynamique, ou bien est chargé en
même temps que des scripts qui le font,</li>

  <li>il définit des fonctions ou des méthodes et charge un script externe (à
partir de l'html) ou bien est chargé comme tel.</li>
  
  <li>il utilise des constructions dynamiques JavaScript qui sont difficiles à
analyser sans interpréter le programme, ou bien il est chargé en même temps
que des scripts qui utilisent de telles constructions. Ces constructions
sont :
    <ul>
      <li>l'utilisation de la fonction eval,</li>
      <li>l'appel à des méthodes via la notation crochets, </li>
      <li>l'utilisation avec certaines méthodes (Obj.write, Obj.createElement, etc.)
de tout élément de construction autre qu'une chaîne de caractères constante.</li>
    </ul>
  </li>
</ul>

<p>Comment savoir si du code JavaScript est libre ? À la fin de cet article,
nous proposons une convention dans laquelle un programme JavaScript non
trivial dans une page web peut déclarer l'URL de l'emplacement de son code
source, ainsi que sa licence, en utilisant des commentaires stylisés.</p>

<p>Enfin, nous devons modifier les navigateurs pour qu'ils détectent et
bloquent le JavaScript non trivial et non libre dans les pages web. Le
programme <a href="http://lduros.net/librejs/">LibreJS</a> [EN] détecte le
JavaScript non libre et non trivial dans les pages que vous visitez, et le
bloque. LibreJS est un module complémentaire pour IceCat et IceWeasel (ainsi
que pour Firefox).</p>

<p>Les utilisateurs de navigateurs ont aussi besoin d'une fonctionnalité
pratique pour indiquer le code JavaScript à utiliser <em>à la place</em> du
JavaScript dans une page donnée (le code spécifié pourrait être un
remplacement total, ou une version modifiée du programme JavaScript libre de
cette page). Greasemonkey est très près d'arriver à faire cela, mais pas
tout à fait, car il ne garantit pas de modifier le code JavaScript d'une
page avant que le programme ne commence à s'exécuter. Utiliser un proxy
local fonctionne, mais c'est trop peu pratique actuellement pour être une
réelle solution. Nous avons besoin de construire une solution fiable et
pratique, ainsi que des sites pour partager les changements. Le projet GNU
voudrait recommander les sites dédiés aux changements libres seulement.</p>

<p>Ces fonctionnalités rendront possible pour un programme JavaScript inclus
dans une page web d'être réellement libre. JavaScript ne sera plus un
obstacle particulier à notre liberté &mdash;&nbsp;pas plus que C et Java ne
le sont maintenant. Nous serons capables de rejeter et même de remplacer les
programmes JavaScript non triviaux et non libres, tout comme nous avons
rejeté et remplacé les paquets non libres pour les installations
classiques. Notre campagne pour libérer le code JavaScript des sites web
pourra alors commencer.</p>

<p>Entre-temps, il existe un cas où il est acceptable d'exécuter un programme
JavaScript non libre : l'envoi d'une réclamation aux opérateurs du site web
disant qu'ils devraient rendre libre le code JavaScript de leur site, ou
bien l'éliminer. N'hésitez pas, s'il vous plaît, à activer JavaScript
temporairement pour faire ça &mdash;&nbsp;mais n'oubliez pas de le
désactiver après coup.</p>

<p><strong>Merci à <a href="/people/people.html#mattlee">Matt Lee</a> et <a
href="http://ejohn.org">John Resig</a> pour leur aide dans la définition de
notre proposition de critère, et à David Parunakian pour avoir porté ce
problème à mon attention.</strong></p>

<h3>Annexe : une convention pour publier des programmes JavaScript libres</h3>

<p>Pour des références au code source correspondant, nous recommandons</p>
<pre dir="ltr">

    // @source:

</pre>

<p>suivi de l'URL</p>

<p>Pour indiquer la licence du code JavaScript intégré dans la page, nous
recommandons de mettre la notice de licence entre deux notes de cette
forme&nbsp;: </p>
<pre dir="ltr">
<!--TRANSLATORS: Do not translate these license notices.  The <pre>

    elements have dir="ltr" explicitly set to cater for RTL languages.-->

    @licstart  The following is the entire license notice for the 
    JavaScript code in this page.
    ...
    @licend  The above is the entire license notice
    for the JavaScript code in this page.<a href="#TransNote2"><sup>2</sup></a>

</pre>
<p>Bien sûr, tout ceci doit être contenu dans un commentaire multiligne.</p>

<p>La <a href="/licenses/gpl.html">GNU GPL</a> [EN], comme beaucoup de licences
de logiciels libres, nécessite la distribution d'une copie de la licence
avec les formes binaire et source du programme. Cependant, la GNU GPL est
longue et l'inclure dans une page avec un programme JavaScript n'est pas
pratique. Vous pouvez oublier ce prérequis, pour du code dont vous détenez
le copyright (droit d'auteur), avec une notice de licence comme ceci&nbsp;:</p>
<pre dir="ltr">

    Copyright (C) YYYY  Developer

    The JavaScript code in this page is free software: you can
    redistribute it and/or modify it under the terms of the GNU
    General Public License (GNU GPL) as published by the Free Software
    Foundation, either version 3 of the License, or (at your option)
    any later version.  The code is distributed WITHOUT ANY WARRANTY;
    without even the implied warranty of MERCHANTABILITY or FITNESS
    FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

    As additional permission under GNU GPL version 3 section 7, you
    may distribute non-source (e.g., minimized or compacted) forms of
    that code without the copy of the GNU GPL normally required by
    section 4, provided you include this license notice and a URL
    through which recipients can access the Corresponding Source.<a href="#TransNote3"><sup>3</sup></a>

</pre>

<p>Je remercie Jaffar Rumith pour avoir porté ce problème à mon attention.</p>

<div style="font-size: small;">

<!--TRANSLATORS: Use space (SPC) as msgstr if you don't have notes.-->
<b>Notes de traduction</b> <ol>
<li id="TransNote1">également appelés «&nbsp;logiciels
propriétaires&nbsp;».</li>
<li id="TransNote2"><pre>Traduction :
    @licstart  Ce qui suit est la totalité de la notice de licence pour le
    code JavaScript de cette page.
    ...
    @licend  Ce qui précède est la totalité de la notice de licence pour le
    code JavaScript de cette page.
</pre></li>
<li id="TransNote3"><pre>Traduction :
    Copyright (C) YYYY  Développeur

    Le code JavaScript de cette page est un logiciel libre&nbsp;: vous
    pouvez le redistribuer et/ou le modifier selon les termes de la
    licence <em>GNU General Public License</em> (GNU GPL) telle que publiée
    par la Free  Software Foundation, en version 3 de la licence, ou
    (à votre discrétion) toute version ultérieure. Le code est distribué
    SANS AUCUNE GARANTIE&nbsp;; sans même la garantie implicite de
    MARCHANDABILITÉ ou d'ADÉQUATION À UN BUT PARTICULIER. Consulter
    la GNU GPL pour plus de détails.

    En tant que permission supplémentaire selon les termes de la GNU
    GPL version 3 section 7, vous pouvez distribuer des formes
    «&nbsp;non-source&nbsp;» (par ex., minimisées ou compactées) de ce code
    sans la copie de la GNU GPL normalement requise section 4, à
    condition d'inclure cette notice de licence et une URL par laquelle
    les destinataires peuvent accéder au code source correspondant.
</pre></li>
</ol></div>
</div>

<!--#include virtual="/server/footer.fr.html" -->
<div id="footer">

<p>
Veuillez envoyer les requêtes concernant la FSF et GNU à <a
href="mailto:gnu@gnu.org">&lt;gnu@gnu.org&gt;</a>. Il existe aussi <a
href="/contact/">d'autres moyens de contacter</a> la FSF.
<br />
Veuillez indiquer (en anglais) les liens orphelins et autres corrections ou
suggestions à <a
href="mailto:webmasters@gnu.org">&lt;webmasters@gnu.org&gt;</a>.
</p>

<p>
Veuillez consulter le <a
href="/server/standards/README.translations.html">README des traductions</a>
pour des informations sur la coordination et la soumission de traductions de
cet article.
</p>

<p>Copyright &copy; 2009, 2010 Richard Stallman</p>

<p>Cette œuvre est licenciée sous les termes de la Creative Commons
Attribution-No Derivative Works 3.0 United States License. Pour voir une
copie de cette licence, visitez <a
href="http://creativecommons.org/licenses/by-nd/3.0/us/">http://creativecommons.org/licenses/by-nd/3.0/us/</a>
ou envoyez une lettre à Creative Commons, 171 Second Street, Suite 300, San
Francisco, California, 94105, USA.</p>


<div class="translators-credits">

<!--TRANSLATORS: Use space (SPC) as msgstr if you don't want credits.-->
Traduction&nbsp;: Cédric Corazza.<br /> Révision&nbsp;: <a
href="mailto:trad-gnu&#64;april.org">trad-gnu&#64;april.org</a></div>


 <p>
<!-- timestamp start -->
Dernière mise à jour&nbsp;:

$Date: 2012/01/23 01:36:54 $

<!-- timestamp end -->
</p>
</div>

<!-- <div id="translations">
 -->
<!-- <h4>
Translations of this page</h4> -->
<!--  -->
<!-- Please keep this list alphabetical by language code. -->
<!-- Comment what the language is for each type, i.e. de is German. -->
<!-- Write the language name in its own language (Deutsch) in the text. -->
<!-- If you add a new language here, please -->
<!-- advise web-translators@gnu.org and add it to -->
<!--  - /home/www/html/server/standards/README.translations.html -->
<!--  - one of the lists under the section "Translations Underway" -->
<!--  - if there is a translation team, you also have to add an alias -->
<!--  to mail.gnu.org:/com/mailer/aliases -->
<!-- Please also check you have the language code right; see: -->
<!-- http://www.loc.gov/standards/iso639-2/php/code_list.php -->
<!-- If the 2-letter ISO 639-1 code is not available, -->
<!-- use the 3-letter ISO 639-2. -->
<!-- Please use W3C normative character entities. -->
<!--  -->
<!-- <ul class="translations-list">
 -->
<!-- Arabic -->
<!-- <li>
<a href="/philosophy/javascript-trap.ar.html">&#1575;&#1604;&#1593;&#1585;&#1576;&#1610;&#1577;</a>&nbsp;[ar]</li> -->
<!-- English -->
<!-- <li>
<a href="/philosophy/javascript-trap.html">English</a>&nbsp;[en]</li> -->
<!-- Spanish -->
<!-- <li>
<a href="/philosophy/javascript-trap.es.html">espa&#x00f1;ol</a>&nbsp;[es]</li> -->
<!-- Farsi (Persian) -->
<!-- <li>
<a href="/philosophy/javascript-trap.fa.html">&#x0641;&#x0627;&#x0631;&#x0633;&#x06cc;</a>&nbsp;[fa]</li> -->
<!-- French -->
<!-- <li>
<a href="/philosophy/javascript-trap.fr.html">fran&ccedil;ais</a>&nbsp;[fr]</li> -->
<!-- Polish -->
<!-- <li>
<a href="/philosophy/javascript-trap.pl.html">polski</a>&nbsp;[pl]</li> -->
<!-- Russian -->
<!-- <li>
<a href="/philosophy/javascript-trap.ru.html">&#x0440;&#x0443;&#x0441;&#x0441;&#x043a;&#x0438;&#x0439;</a>&nbsp;[ru]</li> -->
<!-- </ul>
 -->
<!-- </div>
 -->
</div>
</body>
</html>
