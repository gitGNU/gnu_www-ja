
<!--#include virtual="/server/header.ru.html" -->

<!-- This file is automatically generated by GNUnited Nations! -->
 <!--#set var="ENGLISH_PAGE" value="/philosophy/javascript-trap.en.html" -->

<title>Западня JavaScript</title>

<!--#include virtual="/philosophy/po/javascript-trap.translist" -->
<!--#include virtual="/server/banner.ru.html" -->
<h2>Западня JavaScript</h2>

<p><a href="http://www.stallman.org/">Ричард Столмен</a></p>

<p><strong>Не исключено, что вы запускаете несвободные программы на своем
компьютере каждый день, даже не осознавая этого&nbsp;&mdash;
из вашего браузера.</strong></p>

<p>Сообщество свободного программного обеспечения хорошо знакомо
с идеей, что несвободные программы несправедливы по отношению
к пользователям. Некоторые из нас принципиально отказываются
устанавливать несвободные программы, многие другие считают
несвободность программы серьезным недостатком. Многим пользователям
известно,
что этот вопрос касается модулей, которые браузеры предлагают
установить, поскольку они могут быть свободными или несвободными.</p>

<p>Но существуют другие несвободные программы, которые браузеры выполняют,
даже не спрашивая вас и не говоря вам об этом&nbsp;&mdash;
это программы, на которые ссылаются или которые содержат страницы
сайта. Эти программы чаще всего написаны на языке JavaScript, хотя
используются и другие языки.</p>

<p>JavaScript (официально называемый &ldquo;ECMAScript&rdquo;, но мало кто
употребляет
это название) когда-то применяли для мелких излишеств
на страницах Интернета, таких, как занятные, но несущественные
детали отображения и навигации. Было допустимо рассматривать
их просто как дополнения к разметке HTML, а не как настоящие программы;
они не составляли значимого предмета для обсуждения.</p>

<p>Многие сайты до сих пор используют JavaScript таким же образом, но
некоторые применяют его для крупных программ, которые решают
серьезные задачи. Например, &ldquo;Google Docs&rdquo; устанавливает на вашей

машине программу на JavaScript, занимающую полмегабайта, в сжатом
виде, который мы называем &ldquo;Obfuscript&rdquo; (запутанный сценарий),
потому что там нет комментариев и почти нет пробелов, а названия
методов состоят из одной буквы. Исходный текст программы&nbsp;&mdash;
это форма, предпочтительная для изменения программы; сжатый
текст не является исходным текстом, и настоящий исходный текст
недоступен пользователю.</p>

<p>Браузеры обычно не сообщают вам о том, что они загружают
программы на JavaScript. В большинстве браузеров есть способ
полностью выключить JavaScript, но ни один из них не может
распознать нетривиальную и несвободную программу на JavaScript.
Даже если вы знакомы с этой проблемой, вам было бы достаточно трудно
распознать и заблокировать эти программы. Однако, даже
в сообществе свободного программного обеспечения большинство
пользователей не знает об этой проблеме; молчание браузеров
не выставляет ее напоказ.</p>

<p>Есть возможность сделать программу на JavaScript свободной,
распространяя исходный текст по лицензии свободных программ.
Но даже если исходный текст программы доступен, нет простого способа
выполнять
измененную вами версию вместо первоначальной. Современные свободные
браузеры не предлагают возможности выполнять вашу измененную версию
вместо той, что была доставлена со страницей. Этот эффект сравним с
тивоизацией, хотя его не так трудно преодолеть.</p>

<p>JavaScript&nbsp;&mdash; не единственный язык, на котором написаны
программы, передаваемые с сайтов пользователю. Flash
поддерживает программирование с помощью расширенного варианта
языка JavaScript. Нам будет необходимо изучить вопрос о Flash, чтобы
давать подходящие рекомендации. Silverlight, кажется, создает проблемы,
сходные с Flash, только еще хуже, поскольку Microsoft применяет
его как базу для несвободных кодеков. Свободная замена Silverlight
не решит проблему для свободного мира, если вместе
с ней не будут поставляться свободные
замены кодеков.</p>

<p>Апплеты на языке Java тоже выполняются в браузере и приводят к
похожим проблемам. Вообще говоря, любая система апплетов
приводит к проблемам этого рода. Наличие свободной среды
для выполнения апплетов приводит нас только к
постановке этого вопроса.</p>

<p>Возникло мощное движение, которое призывает применять на сайтах только
свободные (некоторые говорят &ldquo;открытые&rdquo;) форматы и протоколы,
то есть те, документация на которые опубликована и которые каждый
волен реализовать. При наличии программ на страницах сайтов это
условие необходимо, но не достаточно. Сам по себе JavaScript свободен
как формат, и когда его применяют на сайте, это не обязательно плохо.
Однако, как мы видели выше, этого не всегда достаточно. Когда сайт
передает программу пользователю, недостаточно, чтобы программа была
написана на документированном и не вызывающем затруднений
языке&nbsp;&mdash; эта программа тоже должна быть свободна.
&ldquo;Пользователю передаются только свободные
программы&rdquo; должно стать частью критерия корректного
поведения сайтов.</p>

<p>Молчаливая загрузка и выполнение несвободных программ&nbsp;&mdash;
один из нескольких вопросов, поднимаемых &ldquo;веб-приложениями&rdquo;.
Термин &ldquo;веб-приложение&rdquo; был создан, чтобы стереть
принципиальное различие между программами, которые передают пользователям, и

программами, которые работают на сервере. Он может обозначать
особую клиентскую программу, которую выполняет браузер; он
может обозначать особую серверную программу; он может обозначать
особую клиентскую программу, которая работает рука об руку
с особой серверной программой. Клиентская и серверная стороны
затрагивают разные этические вопросы, даже если они так тесно
связаны, что можно утверждать, что они представляют собой части
одной программы. Эта статья рассматривает только вопрос
программ на клиентской стороне. Вопрос серверной стороны
мы рассматриваем отдельно.</p>

<p>Как на практике мы можем решать проблему несвободных программ
на языке JavaScript на сайтах? Первый шаг&nbsp;&mdash; избегать выполнения
их.</p>

<p>Что мы подразумеваем под &ldquo;нетривиальным&rdquo;? Это понятие
растяжимое, так что это вопрос создания простого критерия, дающего хорошие
результаты, а не поиска единственно верного ответа.</p>
<p>
Мы предлагаем использовать правило, согласно которому программа на
JavaScript нетривиальна, если:</p>

<ul>
  <li>она выполняет запросы AJAX или загружается с программами, которые выполняют
запросы AJAX,</li>

  <li>она динамически загружает внешние программы или загружается с программами,
которые это делают,</li>

  <li>она определяет функции или методы и либо загружает внешнюю программу (из
HTML), либо сама загружается как таковая,</li>
  
  <li>она применяет динамические конструкции, которые трудно анализировать без
интерпретации программы или загружается с программами, которые применяют
такие конструкции. К этим конструкциям относятся:
    <ul>
      <li>применение функции <code>eval</code>,</li>
      <li>вызов методов с применением нотации квадратных скобок,</li>
      <li>применение любой конструкции, кроме строкового литерала, с определенными
методами (Obj.write, Obj.createElement, ...).</li>
    </ul>
  </li>
</ul>

<p>Как мы узнаем, свободны ли программы на JavaScript? В конце этой статьи мы
предлагаем порядок, в котором
нетривиальная программа на языке JavaScript на странице сайта
может указать адрес, по которому находится ее исходный текст,
а также может указать и лицензию с помощью стилизованных
комментариев.</p>

<p>Наконец, нам нужно изменить свободные браузеры так, чтобы они обнаруживали и
блокировали несвободные нетривиальные программы на языке JavaScript на
страницах сайтов. Программа <a href="/software/librejs/">LibreJS</a>
обнаруживает несвободные нетривиальные программы на JavaScript на страницах,
которые вы посещаете, и блокирует их. LibreJS&nbsp;&mdash; это дополнение к
IceCat и IceWeasel (и Firefox).</p>

<p>Пользователям браузера нужен также удобный механизм для указания
программ, которые нужно использовать <em>вместо</em> программ
на определенной странице. (Указанные программы могут быть
полной заменой или только измененной версией свободных программ
с той страницы.) Greasemonkey приближается к этому,
но не совсем, потому что не гарантирует, что
программа со страницы будет изменена перед тем, как эта программа
начинает выполняться. Можно использовать локальный прокси-сервер,
но это слишком непрактично для реального решения.
Нам нужно построить решение, которое будет
надежным и удобным, так же как и сайты для обмена модификациями.
Проект GNU хотел бы рекомендовать сайты, выделенные только для
свободных изменений.</p>

<p>Эти особенности будут позволять программе на JavaScript
со страницы сайта быть по-настоящему свободной в практическом смысле.
JavaScript больше не будет особенным препятствием на пути к нашей
свободе&nbsp;&mdash; не более, чем C и Java сейчас.
Мы сможем отвергать и даже заменять несвободные нетривиальные
программы на языке JavaScript точно так же, как мы отвергаем
и заменяем несвободные пакеты, предлагаемые для установки
обычным образом. Тогда мы сможем начать кампанию по освобождению
JavaScript на сайтах.</p>

<p>А пока выполнять несвободную программу на JavaScript допустимо в одном
случае: если это нужно, чтобы послать жалобу операторам сайта и сообщить им,
что им следует освободить или удалить программы на JavaScript с этого
сайта. Пожалуйста, смело включайте временно JavaScript, чтобы сделать
это&nbsp;&mdash; но не забудьте выключить его после этого.</p>

<p><strong>Благодарности <a href="/people/people.html#mattlee">Мэтту
Ли</a>
и <a href="http://ejohn.org">Джону Резигу</a>
за их помощь в определении предлагаемого нами критерия,
и Давиду Парунакяну,
который помог обратить мое внимание на эту проблему.</strong></p>

<h3 id="AppendixA">Приложение A: соглашение о публикации свободных программ на JavaScript</h3>

<p>Для ссылок на исходный текст мы рекомендуем</p>
<pre dir="ltr">

    // @source:

</pre>

<p>с последующим URL.</p>

<p>Чтобы указать лицензию программ на JavaScript с конкретной страницы,
мы рекомендуем добавлять замечание о лицензии между двумя
замечаниями такого вида:</p>
<pre dir="ltr">
<!--TRANSLATORS: Do not translate these license notices.  The <pre>

    elements have dir="ltr" explicitly set to cater for RTL languages.-->

    @licstart  The following is the entire license notice for the 
    JavaScript code in this page.
    ...
    @licend  The above is the entire license notice
    for the JavaScript code in this page.

</pre>
<p>Конечно, все это должно быть заключено в комментарий.</p>

<p>Лицензия <a href="/licenses/gpl.html">GNU GPL</a>, как и многие
другие лицензии свободных программ, требует, чтобы копия лицензии
распространялась как с исходным текстом, так и с двоичными
формами программы. Однако, текст лицензии достаточно велик,
чтобы помещать его на странице с программой на JavaScript было
неудобно. Для программ, авторские права на которые принадлежат вам,
вы можете заменить это требование на замечание, подобное этому:</p>
<pre dir="ltr">

    Copyright (C) YYYY  Developer

    The JavaScript code in this page is free software: you can
    redistribute it and/or modify it under the terms of the GNU
    General Public License (GNU GPL) as published by the Free Software
    Foundation, either version 3 of the License, or (at your option)
    any later version.  The code is distributed WITHOUT ANY WARRANTY;
    without even the implied warranty of MERCHANTABILITY or FITNESS
    FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

    As additional permission under GNU GPL version 3 section 7, you
    may distribute non-source (e.g., minimized or compacted) forms of
    that code without the copy of the GNU GPL normally required by
    section 4, provided you include this license notice and a URL
    through which recipients can access the Corresponding Source.

</pre>

<p>Я благодарю Давида Парунакяна (Jaffar Rumith) за то, что он обратил
мое внимание на этот вопрос.</p>

<h3 id="AppendixB">Приложение B: публикация свободных программ на JavaScript разработчиками
сайтов</h3>

<p>Если вы разработчик сайта и применяете свободные программы на JavaScript на
своем сайте, то четкая и единообразная публикация сведений о лицензиях и
исходных текстах этих файлов поможет вашим посетителям удостовериться, что
они выполняют свободные программы и поможет вам удовлетворить условиям
лицензий.</p>

<p>Один метод объявления о лицензиях&nbsp;&mdash; описанный выше в <a
href="#AppendixA"> Приложении A</a>.  Второй метод, <a
href="/licenses/javascript-labels.html"> лицензионные пометы о
JavaScript</a>, может быть удобнее для библиотек минимизированных программ
на JavaScript, особенно когда их написали не вы.</p>


<div style="font-size: small;">

<!--TRANSLATORS: Use space (SPC) as msgstr if you don't have notes.-->
 </div>
</div>

<!--#include virtual="/server/footer.ru.html" -->
<div id="footer">

<p>
Пожалуйста, присылайте запросы фонду и GNU по адресу <a
href="mailto:gnu@gnu.org">&lt;gnu@gnu.org&gt;</a>. Есть также <a
href="/contact/">другие способы связаться</a> с фондом.
<br />
Пожалуйста, присылайте отчеты о неработающих ссылках и другие поправки или
предложения по адресу <a
href="mailto:webmasters@gnu.org">&lt;webmasters@gnu.org&gt;</a>.
</p>

<p>
Мы старались сделать этот перевод точным и качественным, но исключить
возможность ошибки мы не можем. Присылайте, пожалуйста, свои замечания и
предложения по переводу по адресу <a
href="mailto:web-translators@gnu.org">&lt;web-translators@gnu.org&gt;</a>.
</p><p>Сведения по координации и предложениям переводов наших статей см. в
<a href="/server/standards/README.translations.html">&ldquo;Руководстве по
переводам&rdquo;</a>.
</p>

<p>Copyright &copy; 2009, 2010, 2012 Richard Stallman</p><p>Copyright &copy;
2009, 2010, 2011, 2012 Free Software Foundation, Inc. (translation)</p>

<p>Эта работа распространяется по лицензии
Creative Commons Attribution-No Derivative
Works 3.0 United States License.
Чтобы взглянуть на копию этой лицензии, посетите <a
href="http://creativecommons.org/licenses/by-nd/3.0/us/deed.ru">http://creativecommons.org/licenses/by-nd/3.0/us/</a>

или пошлите письмо в Creative Commons по адресу:
171 Second Street, Suite 300, San Francisco, California, 94105, USA.</p>

<!--#include virtual="/server/bottom-notes.ru.html" -->
<div class="translators-credits">

<!--TRANSLATORS: Use space (SPC) as msgstr if you don't want credits.-->
 </div>


 <p><!-- timestamp start -->
Обновлено:

$Date: 2013/02/28 19:11:33 $

<!-- timestamp end -->
</p>
</div>

</div>
</body>
</html>
