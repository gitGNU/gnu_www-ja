<!--#set var="ENGLISH_PAGE" value="/philosophy/javascript-trap.en.html" -->

<!--#include virtual="/server/header.ja.html" -->
<!-- Parent-Version: 1.77 -->

<!-- This file is automatically generated by GNUnited Nations! -->
<title>JavaScriptの罠</title>

<!--#include virtual="/philosophy/po/javascript-trap.translist" -->
<!--#include virtual="/server/banner.ja.html" -->
<h2>JavaScriptの罠</h2>

<p><a href="http://www.stallman.org/">リチャード・ストールマン</a>著</p>

<p><strong>あなたは、そうとは知らずに、不自由なプログラムをあなたのコンピュータで毎日実行しているかもしれません &mdash;
ウェブ・ブラウザを通じて。</strong></p>

<p>自由ソフトウェアコミュニティでは、不自由なプログラムはそのユーザを虐待する、という考えがよく知られています。わたしたちの中には、プロプライエタリなソフトウェアをインストールすることを完全に拒否する人もいますし、多くの人は不自由はプログラムへの打撃だと考えます。多くのユーザは、この問題がブラウザがインストールするようにと提供するプラグインにも関係すると知っています。プラグインには自由か不自由かの違いがあるからです。</p>

<p>しかし、ブラウザは、ほかの不自由なプログラムを実行します。そのプログラムについて、ブラウザは、あなたに尋ねることも告げることもないのです。そのプログラムはウェブページに含まれていたり、リンクされてたりします。これらのプログラムはほとんどの場合、JavaScriptで書かれています。ほかの言語も、また、使われていますが。</p>

<p>JavaScript(公式にはECMAScriptと呼ばれますが、この名前はほとんど使われません)は、きれいだが本質的ではないナビゲーションや表示の機能のような、ウェブページのちょっとした装飾のために、かつては使われました。これは本当のソフトウェアとしてではなく、HTMLのマークアップの単なる拡張として考えることが可能で、これが重要な問題を構成することはありませんでした。</p>

<p>多くのサイトは、まだそのような方法でJavaScriptを使っていますが、いくつかのサイトでは大きな処理をする、大きなプログラムのために使っています。たとえば、Google
Docsはあなたのマシンに0.5メガバイトにも及ぶJavaScriptのプログラムをダウンロードしようとします。それは、暗黒スクリプト(Obfuscript)と呼び得る、コメントが全くなく、空白もほとんどない、メソッド名は一文字という、圧縮されたものです。改変するにはプログラムのソースコードが望むべき形態ですが、圧縮されたコードはソースコードとは言えず、このプログラムの本当のソースコードはユーザには利用可能ではありません。</p>

<p>不自由であるに加え、多くのこういったプログラムはマルウェアです。なぜならこういったプログラムは<a
href="http://github.com/w3c/fingerprinting-guidance/issues/8">ユーザを覗き見する</a>からです。</p>

<p>JavaScriptのプログラムをロードしたときに、ブラウザは通常何も言いません。いくつかのブラウザは、JavaScriptを完全に停止する方法を有してますが、たとえ、この問題を知っていたとしても、こういった瑣末ではない不自由なプログラムを同定し、ブロックするのには大変な労力が必要となるでしょう。しかし、自由ソフトウェアのコミュニティでさえ、ほとんどのユーザはこの問題を知りません。ブラウザの沈黙がこの問題を隠す傾向にあるのです。</p>

<p>JavaScriptプログラムを自由ソフトウェアライセンスでソースコードを配布し、自由ソフトウェアとしてリリースすることは可能です。もしそのプログラムがそれ自身で意味があるものなら(一緒に来るページと機能と目的が独立であれば)、問題ありません。あなたのマシンにファイルとしてコピーでき、変更し、ブラウザでそのファイルを見て実行できます。しかし、これは通常のケースではありません。</p>

<p>通常のケースでは、JavaScriptのプログラムは、特定のページやサイトで動くことが意図され、そのページやサイトは機能するためにそのプログラムに依存することになります。ここで別の問題が発生します:
たとえプログラムのソースが利用可能でも、あるページやサイトを訪れたときに、オリジナルの代わりにあなたの改変版を実行する方法をブラウザは提供しないのです。この効果はTivoizationと似たようなものです。克服するのに困難を極める、ということはありませんが。</p>

<p>JavaScriptはウェブサイトでユーザに送られるプログラムに使われる唯一の言語ではありません。FlashはJavaScriptの拡張された一種を通じてプログラミングをサポートします。充分に完全な自由なFlashプレイヤを有するなら、(今後)不自由なFlashの問題をわたしたちは扱う必要が出るでしょう。SilverlightはFlashと同様な問題を作り出すと思われます。それがより悪いのは、マイクロソフトがそれを不自由なコーデックのプラットフォームとして使うからです。それが通常、自由な代替コーデックとともに来るのでなければ、Silverlightの自由な代替は自由な社会のために、その仕事をなし得ないでしょう。</p>

<p>Javaアプレットもブラウザで実行され、同様な問題を引き起こします。一般に、どのような種類のアプレットシステムもこの種の問題を有しています。アプレットの自由な実行環境を有するということは、この問題に出くわすのに十分なところに、わたしたちを連れていってくれる、というだけです。</p>

<p>理論的にはHTMLとCSSでプログラムすることが可能ですが、実際にはその機能は限られ不便です。(HTMLとCSSだけで)何かをすることは、すばらしいハックでしょう。そのようなプログラムは自由であるべきですが、CSSは2016年の時点において、ユーザの自由に対する深刻な問題ではありません。</p>

<p>ウェブサイトに対して、自由な(ある人は「オープン」と言います)、すなわち、その文書が公表されていて誰もが自由に実装できる、そういったフォーマットとプロトコルだけを通じて通信することを要求する、力強い運動が発達してきました。この基準は必要ですが、ウェブページの中のプログラムの存在により、十分ではありません。JavaScriptそれ自身は、フォーマットとして自由で、ウェブサイトでJavaScriptを使うことは必ずしも悪くありません。しかし、上で検討したように、必ずしもOKでもありません。サイトがプログラムをユーザに送信するとき、文書があり障害がない言語でかかれているプログラムだというだけでは十分ではないのです。つまり、そのプログラムも自由でなければなりません。「ユーザには自由なプログラムだけが送信される」ことがウェブサイトの適切な行動の基準の部分となるべきです。</p>

<p>黙ったまま不自由なプログラムをロードして実行することは、「ウェブ・アプリケーション」によって引き起こされるいくつかの問題の一つです。「ウェブ・アプリケーション」という用語はユーザに送られるソフトウェアとサーバで実行されるソフトウェアの基本的な区別を無視するよう設計されています。それはブラウザで実行される特別なクライアントプログラムを指すこともありえますし、特別なサーバソフトウェアを指すこともありえます。また、特別なサーバソフトウェアと一緒に動く特別なクライアントプログラムを指すこともありえます。たとえそれらが密接に統合され単一のプログラムの部分のように構成されていたとしても、クライアント側とサーバ側では異なる倫理上の問題を引き起こします。この論説では、クライアント側のソフトウェアの問題だけを扱います。サーバの問題は別に扱っています。</p>

<p>実際面で、ウェブサイトの不自由なJavaScriptプログラムの問題をわたしたちはどのように扱えるでしょうか?
第一の段階は、それを実行することを避けることです。</p>

<p>「瑣末ではない」とは何を意味するでしょう? これは程度の問題ですから、一つの正解を探すよりも、良い結果を与える単純な基準を設計する問題です。</p>
<p>
わたしたちの暫定的ポリシーは、以下のようなJavaScriptプログラムを瑣末ではないとします:</p>

<ul>
  <li>AJAXのリクエストを作る、あるいは、AJAXのリクエストを作るスクリプトと一緒にロードされる。</li>

  <li>外部のスクリプトを動的にロードする、あるいは、そうするスクリプトと一緒にロードされる。</li>

  <li>関数かメソッドを定義し、そのどれかが外部のスクリプトを(htmlから)ロードする、あるいは、(関数かメソッドの)どれかとしてロードされる。</li>
  
  <li>プログラムを解釈せずには解析することが難しい動的なJavaScriptの構成物を使用する、あるいは、そのような構成物を使うスクリプトと一緒にロードされる。そういった構成物には、下記があります:
    <ul>
      <li>eval関数を使う。</li>
      <li>カギ括弧記法でメソッドを呼び出す。</li>
      <li>あるメソッド(Obj.write, Obj.createElement, ...)でストリング・リテラル以外の構成物を使う。</li>
    </ul>
  </li>
</ul>

<p>JavaScriptのコードが自由かどうかをどのように伝えたらよいでしょうか?
この論説の最後で、ウェブページの瑣末ではないJavaScriptのプログラムが、そのソースコードのありかを示すURLとそのライセンスを、様式化したコメントを使って提示する慣習を提案します。</p>

<p>最後に、自由なブラウザがウェブページで瑣末ではない不自由なJavaScriptを検出しブロックする変更を、わたしたちは必要とします。<a
href="/software/librejs/">LibreJS</a>は、あなたが訪れるページの、不自由な瑣末ではないJavaScriptを検出し、ブロックします。LibreJSはIceCatに含まれており、Firefoxのアドオンとしても利用可能です。</p>

<p>ブラウザのユーザには、あるページのJavaScriptの<em>代わりに</em>(別の)JavaScriptコードを指定する便利な機能も必要です。(指定されたコードは全体の置き換えかもしれないし、そのページの改変された自由なJavaScriptプログラムかもしれません。)Greasemonkeyがこれを行うことができるのに近いところですが、まだ足りません。なぜなら、それはプログラムが実行を開始する前に、そのページのJavaScriptのコードを改変することを保証してないからです。ローカルなプロキシを使えば動きますが、現実の解としては今、とても不便なものです。わたしたちは、信頼できる便利な解を構築する必要と、また、変更を共有するサイトを必要とします。GNUプロジェクトは、自由な変更だけに専念するサイトを推奨したいと思います。</p>

<p>これらの機能で、ウェブページに含まれるJavaScriptプログラムを、本当の意味で、現実的に自由とすることがなされるでしょう。そうすれば、JavaScriptはCやJavaがもはやそうではないように、わたしたちの自由の特定の障害ではなくなるでしょう。わたしたちは、不自由な瑣末ではないJavaScriptのプログラムを拒否したり、置き換えたりできるようになるでしょう。ちょうどわたしたちが通常の方法でインストールするように提供された不自由なパッケージを拒否したり、置き換えたりするように。その時、ウェブサイトに対し、そのJavaScriptを解放させる、わたしたちの運動は開始できるのです。</p>

<p>それまでの間、不自由なJavaScriptプログラムを実行する一つの容認できるケースがあります:
ウェブサイトのオペレータに、そのサイトで自由なJavaScriptのコードとするか、削除することについて文句を言うためにです。そうするのに一時的にJavaScriptを有効とすることをためらってはなりません。しかし、その後には再度無効とするのを忘れずに。</p>

<p><strong><a href="/people/people.html#mattlee">Matt Lee</a>と<a
href="http://ejohn.org">John Resig</a>に、提案の基準の定義への助力に関して感謝します。また、David
Parunakianにこの問題を教えてくれたことに感謝します。</strong></p>

<h3 id="AppendixA">Appendix A: 自由なJavaScriptプログラムをリリースする慣習</h3>

<p>対応するソースコードのリファレンスとして、わたしたちは、下記を推奨します。</p>
<pre dir="ltr">

    // @source:

</pre>

<p>に続いて、URLを置きます。これはGNU GPLのソースコードの配布の条件を満たします。このソースが異なるサイトにある場合、<a
href="/licenses/gpl-faq.html#SourceAndBinaryOnDifferentSites">これを適切に取り扱う</a>必要があることに注意してください。ソースコードは、プログラムが自由であるために必要です。
</p>

<p>JavaScriptコードのライセンスをページの中に埋め込んで示すには、ライセンスを二つの注釈の形の間に置くことを推奨します:</p>
<pre dir="ltr">
<!--TRANSLATORS: Do not translate these license notices.  The <pre>

    elements have dir="ltr" explicitly set to cater for RTL languages.-->

    @licstart  The following is the entire license notice for the 
    JavaScript code in this page.
    ...
    @licend  The above is the entire license notice
    for the JavaScript code in this page.

</pre>
<p>もちろん、複数行コメントの中に、このすべてが入れられるのです。</p>

<p><a href="/licenses/gpl.html">GNU
GPL</a>は、ほかの自由ソフトウェアライセンスと同様、プログラムのソースとバイナリの両方の形態に対して、ライセンスのコピーを配布することを要請します。しかし、GNU
GPLは長すぎて、JavaScriptのプログラムのページに含めるには不便となることがあります。あなたが著作権を持つコードに対しては、下記のようなライセンス告知で、この要請を除くことができます:</p>
<pre dir="ltr">

    Copyright (C) YYYY  Developer

    The JavaScript code in this page is free software: you can
    redistribute it and/or modify it under the terms of the GNU
    General Public License (GNU GPL) as published by the Free Software
    Foundation, either version 3 of the License, or (at your option)
    any later version.  The code is distributed WITHOUT ANY WARRANTY;
    without even the implied warranty of MERCHANTABILITY or FITNESS
    FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

    As additional permission under GNU GPL version 3 section 7, you
    may distribute non-source (e.g., minimized or compacted) forms of
    that code without the copy of the GNU GPL normally required by
    section 4, provided you include this license notice and a URL
    through which recipients can access the Corresponding Source.

</pre>

<p>この問題にわたしの注意をもたらしたJaffar Rumithに感謝します。</p>

<h3 id="AppendixB">Appendix B: 自由なJavaScriptプログラムをウェブマスタとして公開する</h3>

<p>あなたが自由なJavaScriptソフトウェアをあなたのサイトに採用するウェブマスタである場合、それらのファイルのライセンスとソースコードについての情報を明確に一貫して公表しましょう。あなたのサイトを訪れる人が自由ソフトウェアを実行していると確認するのに役立つでしょうし、あなたがライセンスの条件に従うのにも役立つでしょう。</p>

<p>ライセンスを述べる一つの方法は、上記の<a href="#AppendixA">Appendix A</a>で述べられています。第二の方法、<a
href="/licenses/javascript-labels.html">JavaScriptのライセンス・ウェブ・ラベル</a>は最小化したJavaScriptコードのライブラリに、より便利でしょう。特に、それをあなたが書いたものでないときに。</p>

<div class="translators-notes">

<!--TRANSLATORS: Use space (SPC) as msgstr if you don't have notes.-->
 </div>
</div>

<!-- for id="content", starts in the include above -->
<!--#include virtual="/server/footer.ja.html" -->
<div id="footer">
<div class="unprintable">

<p>FSFおよびGNUに関する問い合わせは<a
href="mailto:gnu@gnu.org">&lt;gnu@gnu.org&gt;</a>までお願いします(英語)。FSFへの連絡は<a
href="/contact/">他の方法</a>もあります。リンク切れや他の修正、提案は<a
href="mailto:webmasters@gnu.org">&lt;webmasters@gnu.org&gt;</a>までお送りください。</p>

<p>
<!-- TRANSLATORS: Ignore the original text in this paragraph,
        replace it with the translation of these two:

        We work hard and do our best to provide accurate, good quality
        translations.  However, we are not exempt from imperfection.
        Please send your comments and general suggestions in this regard
        to <a href="mailto:web-translators@gnu.org">

        &lt;web-translators@gnu.org&gt;</a>.</p>

        <p>For information on coordinating and submitting translations of
        our web pages, see <a
        href="/server/standards/README.translations.html">Translations
        README</a>. -->
正確で良い品質の翻訳を提供するよう努力していますが、不完全な場合もあるかと思います。翻訳に関するコメントと提案は、<a
href="mailto:web-translators@gnu.org">&lt;web-translators@gnu.org&gt;</a>におねがいします。</p><p>わたしたちのウェブページの翻訳の調整と提出については、<a
href="/server/standards/README.translations.html">翻訳 README</a>をご覧ください。</p>
</div>

<!-- Regarding copyright, in general, standalone pages (as opposed to
     files generated as part of manuals) on the GNU web server should
     be under CC BY-ND 4.0.  Please do NOT change or remove this
     without talking with the webmasters or licensing team first.
     Please make sure the copyright date is consistent with the
     document.  For web pages, it is ok to list just the latest year the
     document was modified, or published.
     
     If you wish to list earlier years, that is ok too.
     Either "2001, 2002, 2003" or "2001-2003" are ok for specifying
     years, as long as each year in the range is in fact a copyrightable
     year, i.e., a year in which the document was published (including
     being publicly visible on the web or in a revision control system).
     
     There is more detail about copyright years in the GNU Maintainers
     Information document, www.gnu.org/prep/maintain. -->
<p>Copyright &copy; 2009-2013, 2016 Richard Stallman</p>

<p>このページは<a rel="license"
href="http://creativecommons.org/licenses/by-nd/4.0/deed.ja">Creative
Commons Attribution-NoDerivs 4.0 International License</a>の条件で許諾されます。</p>

<!--#include virtual="/server/bottom-notes.ja.html" -->
<div class="translators-credits">

<!--TRANSLATORS: Use space (SPC) as msgstr if you don't want credits.-->
 </div>

<p class="unprintable"><!-- timestamp start -->
最終更新:

$Date: 2016/04/08 03:27:43 $

<!-- timestamp end -->
</p>
</div>
</div>
</body>
</html>
