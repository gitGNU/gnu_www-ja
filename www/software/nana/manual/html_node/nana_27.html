<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../texi/nana.texi on 6 November 1998 -->

<TITLE>GNU Nana: improved support for assertions and logging in C and C++ - Qstl.h</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_26.html">previous</A>, <A HREF="nana_28.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC27" HREF="nana_toc.html#TOC27">Qstl.h: quantifiers for STL containers.</A></H2>
<P>
The Standard Template Library (STL) is a library for C++ that makes
extensive use of templates to implement the standard container
classes and much more. Each of the container classes provides an
interface to iterate over all the objects in the container, e.g.

</P>

<PRE>
// MAP is an associate array from location(lat,long) onto the name.
typedef map&#60;location,string,locationlt&#62; MAP;

void print_map_names(MAP&#38; m) { // print out all the names in the map
  for(MAP::iterator i = m.begin(); i != m.end(); ++i) {
    cout &#60;&#60; (*i).second &#60;&#60; "\n";
  }
}
</PRE>

<P>
<SAMP>`Qstl.h'</SAMP> provides the same facilities as <SAMP>`Q.h'</SAMP> but uses the
standard STL iterator protocol shown above. The names in <SAMP>`Qstl.h'</SAMP>
are generated by appending a <SAMP>`O'</SAMP> (O not zero!) to the names in
<SAMP>`Q.h'</SAMP>. In particular:

</P>
<P>
<DL>
<DT><U>Macro:</U> bool <B>AO</B> <I>(<VAR>name</VAR>,<VAR>container</VAR>,<VAR>predicate</VAR>)</I>
<DD><A NAME="IDX161"></A>
For all values in the <VAR>container</VAR> class the <VAR>predicate</VAR> must
be true. The <VAR>predicate</VAR> refers to individual values using
<VAR>name</VAR>. See the STL documentation for more details. 
Another way of putting this is forall <VAR>name</VAR> in
<VAR>container</VAR> the <VAR>predicate</VAR> must be true. 

</P>

<PRE>
  map&#60;int,char *,ltint&#62; m;
  // all keys (or indexes) into m are positive	
  I(AO(i, m, (*i).first &#62;= 0)); 
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> bool <B>EO</B> <I>(<VAR>name</VAR>,<VAR>container</VAR>,<VAR>predicate</VAR>)</I>
<DD><A NAME="IDX162"></A>
There exists one or more values in the <VAR>container</VAR> class for which
the <VAR>predicate</VAR> is true. 

</P>

<PRE>
  map&#60;int,char,ltint&#62; m;

  // one or more characters in m are '$'
  I(EO(i, m, (*i).second == '$')); 
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> bool <B>E1O</B> <I>(<VAR>name</VAR>,<VAR>container</VAR>,<VAR>predicate</VAR>)</I>
<DD><A NAME="IDX163"></A>
There exists one value in the <VAR>container</VAR> for which
the <VAR>predicate</VAR> is true. 

</P>

<PRE>
  map&#60;int,char,ltint&#62; m;

  // one characters in m is a '$'
  I(E1O(i, m, (*i).second == '$')); 
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> int <B>CO</B> <I>(<VAR>name</VAR>,<VAR>container</VAR>,<VAR>predicate</VAR>)</I>
<DD><A NAME="IDX164"></A>
Returns the number of times the <VAR>predicate</VAR> was true for all
values in the <VAR>container</VAR>.

</P>

<PRE>
  map&#60;int,char,ltint&#62; m;
  int nalpha; 
  // count the number of alphabetic chars in the map
  nalpha = CO(i, m, isalpha((*i).second)); 
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> typeof(<VAR>exprn</VAR>) <B>SO</B> <I>(<VAR>name</VAR>,<VAR>container</VAR>,<VAR>exprn</VAR>)</I>
<DD><A NAME="IDX165"></A>
Sum the <VAR>exprn</VAR> for all values in the <VAR>container</VAR>.

</P>

<PRE>
  map&#60;int,float,ltint&#62; m;
  float sum;
  // sum all the values in m
  sum = SO(i, m, (*i).second); 
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> typeof(<VAR>exprn</VAR>) <B>PO</B> <I>(<VAR>name</VAR>,<VAR>container</VAR>,<VAR>exprn</VAR>)</I>
<DD><A NAME="IDX166"></A>
Take the product of the <VAR>exprn</VAR> for all values in the <VAR>container</VAR>.

</P>

<PRE>
  map&#60;int,float,ltint&#62; m;
  float product;
  // multiply all the values in m
  product = PO(i, m, (*i).second); 
</PRE>

</DL>

<P><HR><P>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_26.html">previous</A>, <A HREF="nana_28.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
</BODY>
</HTML>
