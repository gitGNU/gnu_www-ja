<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../texi/nana.texi on 6 November 1998 -->

<TITLE>GNU Nana: improved support for assertions and logging in C and C++ - GDB.h</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_24.html">previous</A>, <A HREF="nana_26.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC25" HREF="nana_toc.html#TOC25">GDB.h: sending plain gdb commands to the debugger</A></H2>
<P>
<SAMP>`GDB.h'</SAMP> provides macros for generating user specified commands in
the output of the <SAMP>`nana'</SAMP> command.
They are not included by default in the <SAMP>`nana.h'</SAMP> file.

</P>
<P>
<DL>
<DT><U>Macro:</U> void <B>GDB</B> <I>(<VAR>command</VAR>)</I>
<DD><A NAME="IDX153"></A>
Emit a single line command when running this file through <SAMP>`nana'</SAMP>. 
Note that each line must be passed off separately to the <SAMP>`GDB'</SAMP>
macro. 

</P>
<P>
This could be used to set debugger options or to define procedures
inside <SAMP>`gdb'</SAMP>, e.g.

</P>

<PRE>
  GDB(define checkstack);
  GDB(  if 0 &#60;= n &#38;&#38; n &#60;= 10);
  GDB(    print "stack ok");
  GDB(  else);
  GDB(    print "stack corrupted");
  GDB(  end);
  GDB(end);
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> void <B>GDBCALL</B> <I>(<VAR>command</VAR>)</I>
<DD><A NAME="IDX154"></A>
Causes a single gdb <VAR>command</VAR> to be executed whenever control
passes through this line of code. After the users command is executed
control automatically returns to the program.

</P>

<PRE>
  GDBCALL(set memory_check = 1)
</PRE>

</DL>

<P>
These macros could used for instrumenting code or setting up test
harnesses, e.g.

</P>

<PRE>

GDB(set $siocall = 0);
GDB(set $sioerr = 0);

void sio_driver() {
  GDBCALL(set $siocall++)
  if(SIO_REQ &#38; 0x010) {
    GDBCALL(set $sioerr++); 
    ...
  }
}
</PRE>

<P><HR><P>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_24.html">previous</A>, <A HREF="nana_26.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
</BODY>
</HTML>
