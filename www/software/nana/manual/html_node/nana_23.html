<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../texi/nana.texi on 6 November 1998 -->

<TITLE>GNU Nana: improved support for assertions and logging in C and C++ - L_times.h</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_22.html">previous</A>, <A HREF="nana_24.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC23" HREF="nana_toc.html#TOC23">L_times.h: recording events and times.</A></H2>
<P>
This component is used to record events and times with a lower time 
and space overhead than the <SAMP>`L_buffer.h'</SAMP> component. Instead
of using a <SAMP>`printf'</SAMP> style string we simply record the time
and a pointer to a string identifying the event in a circular buffer.

</P>
<P>
<STRONG>Note 0:</STRONG> the string arguments should not be modified after
a call since we record pointers to the strings rather
than the strings themselves.

</P>
<P>
<STRONG>Note 1:</STRONG> there is no <VAR>printf</VAR> style formatting, e.g.
<SAMP>`%d'</SAMP> in this package.

</P>
<P>
<DL>
<DT><U>Type:</U> struct <B>L_TIMES</B>
<DD><A NAME="IDX124"></A>
Used to define buffers, it is similar to <SAMP>`FILE*'</SAMP> type in 
<SAMP>`stdio.h'</SAMP>. To create an instance use <SAMP>`L_times_create'</SAMP>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> L_TIMES* <B>L_times_create</B> <I>(int <VAR>size</VAR>)</I>
<DD><A NAME="IDX125"></A>
<DT><U>Function:</U> L_TIMES* <B>L_times_delete</B> <I>(L_BUFFER <VAR>*b</VAR>)</I>
<DD><A NAME="IDX126"></A>
These are used to create or delete a buffer which can contain <VAR>size</VAR>
messages.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void <B>L_times_wraparound</B> <I>(L_TIMES <VAR>*b</VAR>, int <VAR>w</VAR>)</I>
<DD><A NAME="IDX127"></A>
A buffer created by <SAMP>`L_times_create'</SAMP> is set up so that the new
messages will overwrite the oldest messages in the buffer. If you wish 
to disable this overwriting, e.g. to keep the first few messages
messages you could use <SAMP>`L_times_wraparound(b,0)'</SAMP>.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void <B>L_times_add</B> <I>(L_BUFFER <VAR>*b</VAR>, char <VAR>*m</VAR>, NANA_TIME <VAR>t</VAR>)</I>
<DD><A NAME="IDX128"></A>
Add an event identified by message <VAR>m</VAR> at time <VAR>t</VAR> to <VAR>b</VAR>.  
The type <VAR>NANA_TIME</VAR> defaults to <SAMP>`double'</SAMP>. 
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void <B>L_times_dump</B> <I>(L_TIMES <VAR>*b</VAR>, FILE <VAR>*fd</VAR>)</I>
<DD><A NAME="IDX129"></A>
Dump the contents of the buffer out.
</DL>

</P>
<P>
<DL>
<DT><U>Function:</U> void <B>L_times_clear</B> <I>(L_TIMES <VAR>*b</VAR>)</I>
<DD><A NAME="IDX130"></A>
Clear all the messages from <VAR>b</VAR>.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_22.html">previous</A>, <A HREF="nana_24.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
</BODY>
</HTML>
