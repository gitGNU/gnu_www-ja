<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../texi/nana.texi on 6 November 1998 -->

<TITLE>GNU Nana: improved support for assertions and logging in C and C++ - L.h</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_20.html">previous</A>, <A HREF="nana_22.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC21" HREF="nana_toc.html#TOC21">L.h: support for printf style logging</A></H2>
<P>
These routines are used to provide logging functions. Messages can be
divided into classes and separately enabled and disabled.

</P>
<P>
<DL>
<DT><U>Macro:</U> void <B>L</B> <I>(<VAR>args</VAR>...)</I>
<DD><A NAME="IDX91"></A>
Used to log a message in a similar way to printf.

</P>
<P>
Defaults to a using <CODE>fprintf</CODE> on <CODE>stderr</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> void <B>LG</B> <I>(bool <VAR>guard</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX92"></A>
<DT><U>Macro:</U> void <B>LH</B> <I>(function <VAR>handler</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX93"></A>
<DT><U>Macro:</U> void <B>LP</B> <I>(text <VAR>param</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX94"></A>
<DT><U>Macro:</U> void <B>LGP</B> <I>(bool <VAR>guard</VAR>, text <VAR>param</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX95"></A>
<DT><U>Macro:</U> void <B>LHP</B> <I>(function <VAR>handler</VAR>, text <VAR>param</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX96"></A>
<DT><U>Macro:</U> void <B>LGHP</B> <I>(bool <VAR>guard</VAR>, function <VAR>handler</VAR>, text <VAR>param</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX97"></A>
And all of the special functions.

</P>
</DL>

<P>
The macros such as <SAMP>`L'</SAMP> depend on the GNU CC variable number of arguments 
to macros extension. If you wish to compile your code on other systems
you might wish to use the following variations on <SAMP>`L'</SAMP>, etc.

</P>
<P>
<DL>
<DT><U>Macro:</U> void <B>VL</B> <I>((<VAR>args</VAR>...))</I>
<DD><A NAME="IDX98"></A>
<DT><U>Macro:</U> void <B>VLG</B> <I>((bool <VAR>guard</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX99"></A>
<DT><U>Macro:</U> void <B>VLH</B> <I>((function <VAR>handler</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX100"></A>
<DT><U>Macro:</U> void <B>VLP</B> <I>((text <VAR>param</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX101"></A>
<DT><U>Macro:</U> void <B>VLGP</B> <I>((bool <VAR>guard</VAR>, <VAR>text param</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX102"></A>
<DT><U>Macro:</U> void <B>VLHP</B> <I>((function <VAR>handler</VAR>, text <VAR>param</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX103"></A>
<DT><U>Macro:</U> void <B>VLGHP</B> <I>((bool <VAR>guard</VAR>, function <VAR>handler</VAR>, text <VAR>param</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX104"></A>
Each of these macros calls the corresponding function from the previous
group, i.e. by default <SAMP>`VLG'</SAMP> is the same as a call to <SAMP>`LG'</SAMP>.
If you define <SAMP>`WITHOUT_NANA'</SAMP> all these macros are translated
to <SAMP>`/* empty */'</SAMP>. 

</P>
<P>
Thus you can have nana under GCC whilst the code is still portable
to other compilers. However debugging information will not be available
on other platforms.

</P>
<P>
<STRONG>Note:</STRONG> the argument list is surrounded by <STRONG>two</STRONG> sets of 
brackets. For example:

</P>

<PRE>
   VL(("haze in darwin = %d\n", 3.4));
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> void <B>L_LEVEL</B>
<DD><A NAME="IDX105"></A>
Used to enable and disable logging independently of guard expressions.

</P>
<DL COMPACT>

<DT><CODE>2</CODE>
<DD>
<A NAME="IDX106"></A>
Always print message
<DT><CODE>1</CODE>
<DD>
<A NAME="IDX107"></A>
Print message only if the guard expression is true.
<DT><CODE>0</CODE>
<DD>
<A NAME="IDX108"></A>
Never print any messages.
</DL>

<P>
Defaults to <CODE>1</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> text <B>L_DEFAULT_HANDLER</B>
<DD><A NAME="IDX109"></A>
The default handler for printing which is simply the name of the
logging function or macro.

</P>
<P>
Defaults to <CODE>fprintf</CODE>
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> bool <B>L_DEFAULT_GUARD</B>
<DD><A NAME="IDX110"></A>
The default guard condition for logging. 

</P>
<P>
Defaults to <CODE>TRUE</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> text <B>L_DEFAULT_PARAMS</B>
<DD><A NAME="IDX111"></A>
The default parameter passed off to the logging function or macro.

</P>
<P>
Defaults to <CODE>stderr</CODE>
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> void <B>L_SHOW_TIME</B>
<DD><A NAME="IDX112"></A>
If defined then display the time in front of each message.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> char* <B>L_SHOW_TIME_FORMAT</B>
<DD><A NAME="IDX113"></A>
A format string for the time stamp in the log. By default it prints the
time out in seconds.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> value <B>L_SHOW_TIME_NOW</B>
<DD><A NAME="IDX114"></A>
The name of a function that returns the time for the time stamp. This
defaults to the <SAMP>`now'</SAMP> function from <SAMP>`now.h'</SAMP>.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_20.html">previous</A>, <A HREF="nana_22.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
</BODY>
</HTML>
