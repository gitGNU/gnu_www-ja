<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../texi/nana.texi on 6 November 1998 -->

<TITLE>GNU Nana: improved support for assertions and logging in C and C++ - DL.h</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_23.html">previous</A>, <A HREF="nana_25.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC24" HREF="nana_toc.html#TOC24">DL.h: support for printf style logging</A></H2>
<P>
These routines are used to provide logging functions. Messages can be
divided into classes and separately enabled and disabled.

</P>
<P>
<DL>
<DT><U>Macro:</U> void <B>DL</B> <I>(<VAR>args</VAR>...)</I>
<DD><A NAME="IDX131"></A>
Used to log a message.

</P>
<P>
Defaults to a using <CODE>fprintf</CODE> on <CODE>stderr</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> void <B>DLG</B> <I>(bool <VAR>guard</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX132"></A>
<DT><U>Macro:</U> void <B>DLH</B> <I>(function <VAR>handler</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX133"></A>
<DT><U>Macro:</U> void <B>DLP</B> <I>(text <VAR>param</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX134"></A>
<DT><U>Macro:</U> void <B>DLGP</B> <I>(bool <VAR>guard</VAR>, text <VAR>param</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX135"></A>
<DT><U>Macro:</U> void <B>DLHP</B> <I>(function <VAR>handler</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX136"></A>
<DT><U>Macro:</U> void <B>DLGHP</B> <I>(bool <VAR>guard</VAR>, function <VAR>handler</VAR>, <VAR>args</VAR>...)</I>
<DD><A NAME="IDX137"></A>
And all of the special functions.

</P>
</DL>

<P>
The macros such as <SAMP>`DL'</SAMP> depend on the GNU CC variable number of arguments 
to macros extension. If you wish to compile your code on other systems
you might wish to use the following variations on <SAMP>`DL'</SAMP>, etc.

</P>
<P>
<DL>
<DT><U>Macro:</U> void <B>VDL</B> <I>((<VAR>args</VAR>...))</I>
<DD><A NAME="IDX138"></A>
<DT><U>Macro:</U> void <B>VDLG</B> <I>((bool <VAR>guard</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX139"></A>
<DT><U>Macro:</U> void <B>VDLH</B> <I>((function <VAR>handler</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX140"></A>
<DT><U>Macro:</U> void <B>VDLP</B> <I>((text <VAR>param</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX141"></A>
<DT><U>Macro:</U> void <B>VDLGP</B> <I>((bool <VAR>guard</VAR>, <VAR>text param</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX142"></A>
<DT><U>Macro:</U> void <B>VDLHP</B> <I>((function <VAR>handler</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX143"></A>
<DT><U>Macro:</U> void <B>VDLGHP</B> <I>((bool <VAR>guard</VAR>, function <VAR>handler</VAR>, <VAR>args</VAR>...))</I>
<DD><A NAME="IDX144"></A>
Each of these macros calls the corresponding function from the previous
group, i.e. by default <SAMP>`VDL'</SAMP> is equivelant to a call to <SAMP>`DL'</SAMP>.
If <SAMP>`WITHOUT_NANA'</SAMP> is defined then the call too <SAMP>`VDL'</SAMP> is 
equivelant to <SAMP>`/* empty */'</SAMP>.

</P>
<P>
Thus you can have debugging under GCC whilst the code is still portable
to other compilers. However debugging information will not be available
on other platforms.

</P>
<P>
<STRONG>Note:</STRONG> the argument list is surrounded by <STRONG>two</STRONG> sets of 
brackets. For example:

</P>

<PRE>
   VDL(("haze in darwin = %d\n", 3.4));
</PRE>

</DL>

<P>
<DL>
<DT><U>Macro:</U> int <B>DL_LEVEL</B>
<DD><A NAME="IDX145"></A>
Used to enable and disable logging independently of guard expressions.

</P>
<DL COMPACT>

<DT><CODE>2</CODE>
<DD>
<A NAME="IDX146"></A>
Always print message
<DT><CODE>1</CODE>
<DD>
<A NAME="IDX147"></A>
Print message only if the guard expression is true.
<DT><CODE>0</CODE>
<DD>
<A NAME="IDX148"></A>
Never print any messages.
</DL>

<P>
Defaults to <CODE>1</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> text <B>DL_DEFAULT_HANDLER</B>
<DD><A NAME="IDX149"></A>
The default handler for printing which is simply the name of the
printing function. 

</P>
<P>
Defaults to <CODE>fprintf</CODE>
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> bool <B>DL_DEFAULT_GUARD</B>
<DD><A NAME="IDX150"></A>

</P>
<P>
Defaults to <CODE>TRUE</CODE>.
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> text <B>DL_DEFAULT_PARAMS</B>
<DD><A NAME="IDX151"></A>
Defaults to <CODE>stderr</CODE>
</DL>

</P>
<P>
<DL>
<DT><U>Macro:</U> flag <B>DL_SHOW_TIME</B>
<DD><A NAME="IDX152"></A>
Each message can be given an individual time stamp by defining 
<CODE>DL_SHOW_TIME</CODE>. This causes the <CODE>_L_gettime</CODE> routine to be
called before each message which generates the timestamp. A default
version is provided by the nana library.
</DL>

</P>
<P><HR><P>
Go to the <A HREF="nana_1.html">first</A>, <A HREF="nana_23.html">previous</A>, <A HREF="nana_25.html">next</A>, <A HREF="nana_42.html">last</A> section, <A HREF="nana_toc.html">table of contents</A>.
</BODY>
</HTML>
