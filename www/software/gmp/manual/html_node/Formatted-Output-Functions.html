<html lang="en">
<head>
<title>GNU MP 4.1</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="How to install and use the GNU multiple precision arithmetic library, version 4.1.">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
<!--
This manual describes how to install and use the GNU multiple precision
arithmetic library, version 4.1.

<p>Copyright 1991, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002
Free Software Foundation, Inc.

<p>Permission is granted to copy, distribute and/or modify this document under
the terms of the GNU Free Documentation License, Version 1.1 or any later
version published by the Free Software Foundation; with no Invariant Sections,
with the Front-Cover Texts being "A GNU Manual", and with the Back-Cover
Texts being "You have freedom to copy and modify this GNU Manual, like GNU
software".  A copy of the license is included in <a href="GNU-Free-Documentation-License.html#GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>.-->
</head>
<body>
<p>
Node:<a name="Formatted%20Output%20Functions">Formatted Output Functions</a>,
Next:<a rel=next accesskey=n href="C---Formatted-Output.html#C++%20Formatted%20Output">C++ Formatted Output</a>,
Previous:<a rel=previous accesskey=p href="Formatted-Output-Strings.html#Formatted%20Output%20Strings">Formatted Output Strings</a>,
Up:<a rel=up accesskey=u href="Formatted-Output.html#Formatted%20Output">Formatted Output</a>
<hr><br>

<h3>Functions</h3>

<p>Each of the following functions is similar to the corresponding C library
function.  The basic <code>printf</code> forms take a variable argument list.  The
<code>vprintf</code> forms take an argument pointer, see <a href="../libc/Variadic-Functions.html#Variadic%20Functions">Variadic Functions</a>, or <code>man 3
va_start</code>.

<p>It should be emphasised that if a format string is invalid, or the arguments
don't match what the format specifies, then the behaviour of any of these
functions will be unpredictable.  GCC format string checking is not available,
since it doesn't recognise the GMP extensions.

<p>The file based functions <code>gmp_printf</code> and <code>gmp_fprintf</code> will return
-1 to indicate a write error.  All the functions can return -1
if the C library <code>printf</code> variant in use returns -1, but this
shouldn't normally occur.

<p>
<table width="100%">
<tr>
<td align="left">int <b>gmp_printf</b><i> (const char *<var>fmt</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>

<tr>
<td align="left">int <b>gmp_vprintf</b><i> (const char *<var>fmt</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Print to the standard output <code>stdout</code>.  Return the number of characters
written, or -1 if an error occurred. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gmp_fprintf</b><i> (FILE *<var>fp</var>, const char *<var>fmt</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>

<tr>
<td align="left">int <b>gmp_vfprintf</b><i> (FILE *<var>fp</var>, const char *<var>fmt</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Print to the stream <var>fp</var>.  Return the number of characters written, or
-1 if an error occurred. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gmp_sprintf</b><i> (char *<var>buf</var>, const char *<var>fmt</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>

<tr>
<td align="left">int <b>gmp_vsprintf</b><i> (char *<var>buf</var>, const char *<var>fmt</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Form a null-terminated string in <var>buf</var>.  Return the number of characters
written, excluding the terminating null.

<p>No overlap is permitted between the space at <var>buf</var> and the string
<var>fmt</var>.

<p>These functions are not recommended, since there's no protection against
exceeding the space available at <var>buf</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gmp_snprintf</b><i> (char *<var>buf</var>, size_t <var>size</var>, const char *<var>fmt</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>

<tr>
<td align="left">int <b>gmp_vsnprintf</b><i> (char *<var>buf</var>, size_t <var>size</var>, const char *<var>fmt</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Form a null-terminated string in <var>buf</var>.  No more than <var>size</var> bytes
will be written.  To get the full output, <var>size</var> must be enough for the
string and null-terminator.

<p>The return value is the total number of characters which ought to have been
produced, excluding the terminating null.  If <var>retval</var> &gt;=
<var>size</var> then the actual output has been truncated to the first
<var>size</var>-1 characters, and a null appended.

<p>No overlap is permitted between the region {<var>buf</var>,<var>size</var>} and the
<var>fmt</var> string.

<p>Notice the return value is in ISO C99 <code>snprintf</code> style.  This is so even
if the C library <code>vsnprintf</code> is the older GLIBC 2.0.x style. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gmp_asprintf</b><i> (char **<var>pp</var>, const char *<var>fmt</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>

<tr>
<td align="left">int <b>gmp_vasprintf</b><i> (char *<var>pp</var>, const char *<var>fmt</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Form a null-terminated string in a block of memory obtained from the current
memory allocation function (see <a href="Custom-Allocation.html#Custom%20Allocation">Custom Allocation</a>).  The block will be the
size of the string and null-terminator.  Put the address of the block in
*<var>pp</var>.  Return the number of characters produced, excluding the
null-terminator.

<p>Unlike the C library <code>asprintf</code>, <code>gmp_asprintf</code> doesn't return
-1 if there's no more memory available, it lets the current allocation
function handle that. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gmp_obstack_printf</b><i> (struct obstack *<var>ob</var>, const char *<var>fmt</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>

<tr>
<td align="left">int <b>gmp_obstack_vprintf</b><i> (struct obstack *<var>ob</var>, const char *<var>fmt</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Append to the current obstack object, in the same style as
<code>obstack_printf</code>.  Return the number of characters written.  A
null-terminator is not written.

<p><var>fmt</var> cannot be within the current obstack object, since the object might
move as it grows.

<p>These functions are available only when the C library provides the obstack
feature, which probably means only on GNU systems, see
<a href="../libc/Obstacks.html#Obstacks">Obstacks</a>. 
</td></tr>
</table>

</body></html>

