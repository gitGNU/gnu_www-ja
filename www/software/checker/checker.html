<!-- Parent-Version: $Revision: 1.8 $ -->

<!-- This is the template document for GNU web pages.  We use
     server side includes (#include) for common elements, for
     instance, the very first line of the file.  If you're reading
     this in its expanded form, you can retrieve the original source,
     with the SSI statements intact, from
     http://web.cvs.savannah.gnu.org/viewvc/*checkout*/www/server/standards/boilerplate.html?root=www&content-type=text%2Fplain
-->

<!-- Instructions for adapting this boilerplate to a new project: -->

<!-- 1. In the line above starting "Parent-Version:", remove the
        "$Revision...$" from around the revision number,
        leaving just Parent-Version: and the number. -->

<!-- 2. Replace "baz" with the name of your project.
        You should be able to do this with search and replace;
        making sure that the search is case insensitive and
        that the case of the replacement matches the case
        of the string found. In Emacs, query-replace will do this
        when case-fold-search and case-replace are both non-nil
        and both search and replacement string are given in lower case. -->

<!-- 3. Of course update the actual information according to your project,
        such as mailing lists, project locations, and maintainer name.  -->

<!-- 4. You can use the patch-from-parent script to semi-automate
        merging future changes to the boilerplate with your file:
        http://web.cvs.savannah.gnu.org/viewvc/*checkout*/www/server/standards/patch-from-parent?root=www&content-type=text%2Fplain
-->

<!--#include virtual="/server/header.html" -->
<title>Checker - GNU Project - Free Software Foundation (FSF)</title>
<!--#include virtual="/server/banner.html" -->
<h2>GNU Checker</h2>

<p>The GNU checker package has been decommissioned, as <a
href="http://valgrind.org/">valgrind</a> does a better job and is being
actively maintained.  Old home page preserved below for archaeologists.

<hr>
<small>

<P>
Checker is a tool which finds memory errors at runtime.  Its
primary function is to emit a warning when the program reads an
uninitialized variable or memory area, or when the program accesses an
unallocated memory area.

<p>
The Malloc library of Checker is very robust, though a bit slower
than the usual GNU Malloc.  Checker issues warnings when:
<ul>
<li> <code>free</code> or <code>realloc</code> is called with a
    pointer that has not been obtained from <code>malloc</code>,
    <code>calloc</code>, or <code>realloc</code>.
<li> <code>free</code> or <code>realloc</code> is called with a
    pointer that has been previously freed.
</ul>
    
<p>
Checker's Malloc will refrain from reusing a freed block
immediately; reuse of the block is delayed for some additional number
of calls to free.  This is to catch accesses to the block shortly
after it has been freed.

<p>
Checker implements a garbage detector that can be called either in
your program, by a debugger such as GDB, or on exit from the program.
The garbage detector displays all the memory leaks along with the
functions that called <code>malloc</code>.

<h4>Example</h4>

Here's a bogus file <code>example.c</code>:

<pre>
  #include &lt;stdlib.h&gt;

  int
  main ()
  {
    char *zone = malloc (20);
    char *ptr = NULL;
    int i;
    char c;

    c = zone[1];     /* error: read an uninitialized char */
    c = zone[-2];    /* error: read before the zone */
    zone[25] = ' ';  /* error: write after the zone */
    *ptr = 2;	     /* error: use a NULL pointer,
                        must produce a core */
  }
</pre>

To compile this example with Checker, simply use
<code>checkergcc</code> instead of <code>gcc</code>:

<pre>
% checkergcc -o example example.c
</pre>

Next, to run the example:

<pre>
  % ./example
</pre>

Execution produces these warnings:

<pre>
Checker 0.9 (sparc-sun-solaris2.5.1) Copyright (C) 1998 Tristan Gingold.
Checker is a memory access detector.
Checker is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.
For more information, set CHECKEROPTS to `--help'
From Checker (pid:04713): `./example' is running (Sun Jan 18 14:56:49 1998)

From Checker (pid:04713): (ruh) read uninitialized byte(s) in a block.
When Reading 1 byte(s) at address 0x000398a1, inside the heap (sbrk).
1 bytes into a block (start: 0x398a0, length: 20, mdesc: 0x0).
The block was allocated from:
	pc=0x00022f1c in chkr_malloc at ../stubs/stubs-malloc.c:51
	pc=0x0001339c in main at ../example.c:7
	pc=0x000155f0 in startup at ../config/sparc/solaris2/startup.c:148
	pc=0x00013298 in *unknown* at *unknown*:0
Stack frames are:
	pc=0x000133f4 in main at ../example.c:12
	pc=0x000155f0 in startup at ../config/sparc/solaris2/startup.c:148
	pc=0x00013298 in *unknown* at *unknown*:0
From Checker (pid:04713): (bvh) block bounds violation in the heap.
When Reading 1 byte(s) at address 0x0003989e, inside the heap (sbrk).
2 bytes before a block (start: 0x398a0, length: 20, mdesc: 0x0).
The block was allocated from:
	pc=0x00022f1c in chkr_malloc at ../stubs/stubs-malloc.c:51
	pc=0x0001339c in main at ../example.c:7
	pc=0x000155f0 in startup at ../config/sparc/solaris2/startup.c:148
	pc=0x00013298 in *unknown* at *unknown*:0
Stack frames are:
	pc=0x00013434 in main at ../example.c:13
	pc=0x000155f0 in startup at ../config/sparc/solaris2/startup.c:148
	pc=0x00013298 in *unknown* at *unknown*:0
From Checker (pid:04713): (bvh) block bounds violation in the heap.
When Writing 1 byte(s) at address 0x000398b9, inside the heap (sbrk).
5 bytes after a block (start: 0x398a0, length: 20, mdesc: 0x0).
The block was allocated from:
	pc=0x00022f1c in chkr_malloc at ../stubs/stubs-malloc.c:51
	pc=0x0001339c in main at ../example.c:7
	pc=0x000155f0 in startup at ../config/sparc/solaris2/startup.c:148
	pc=0x00013298 in *unknown* at *unknown*:0
Stack frames are:
	pc=0x0001345c in main at ../example.c:14
	pc=0x000155f0 in startup at ../config/sparc/solaris2/startup.c:148
	pc=0x00013298 in *unknown* at *unknown*:0
From Checker (pid:04713): (nza) null zone addressed.
When Writing 1 byte(s) at address 0x00000000, inside the NULL zone.
You probably deferenced a null pointer.
THIS SHOULD CAUSE A SEGMENTATION FAULT.
Stack frames are:
	pc=0x0001347c in main at ../example.c:15
	pc=0x000155f0 in startup at ../config/sparc/solaris2/startup.c:148
	pc=0x00013298 in *unknown* at *unknown*:0
From Checker (pid:04713): (sig) signal.
Receive signal 11 (SEGV): (default action: terminate core ).

Segmentation fault
</pre>

<h4>Current status</h4>

At this time, the current version, 0.9.4, is available on
<A href="ftp://alpha.gnu.org/gnu/">  alpha.gnu.org/gnu/.</a>
It has been ported to
<ul>
  <li>i586-pc-linux-gnu
  <li>sparc-sun-solaris2.5
</ul>
You need <code>gcc-2.8.1</code> to use Checker.

</small>
<HR>

Return to <A HREF="/home.html">GNU's home page</A>.
<P>

Please send FSF &amp; GNU inquiries &amp; questions to 

<A HREF="mailto:gnu@gnu.org"><EM>gnu@gnu.org</EM></A>.
There are also <A HREF="http://www.fsf.org/about/contact.html">other ways to
contact</A> the FSF.
<P>

Please send comments on these web pages to

<A HREF="mailto:webmasters@gnu.org"><EM>webmasters@gnu.org</EM></A>,
send other questions to
<A HREF="mailto:gnu@gnu.org"><EM>gnu@gnu.org</EM></A>.
<P>
Copyright &copy; 1998, 2001, 2006 Free Software Foundation, Inc.,
51 Franklin Street, Fifth Floor, Boston, MA  02110-1301,  USA
<P>
Verbatim copying and distribution of this entire article is
permitted in any medium, provided this notice is preserved.<P>
Updated:
<!-- hhmts start -->
$Date: 2011/10/24 19:35:31 $ $Author: jturner $
<!-- hhmts end -->
<!-- If needed, change the copyright block at the bottom. In general,
     all pages on the GNU web server should have the section about
     verbatim copying.  Please do NOT remove this without talking
     with the webmasters first.
     Please make sure the copyright date is consistent with the document
     and that it is like this: "2001, 2002", not this: "2001-2002". -->
</div><!-- for id="content", starts in the include above -->
<!--#include virtual="/server/footer.html" -->

<div id="translations">
<h4>Translations of this page</h4>

<!-- Please keep this list alphabetical by language code.
     Comment what the language is for each type, i.e. de is German.
     Write the language name in its own language (Deutsch) in the text.
     If you add a new language here, please
     advise web-translators@gnu.org and add it to
      - /home/www/html/server/standards/README.translations.html
      - one of the lists under the section "Translations Underway"
      - if there is a translation team, you also have to add an alias
      to mail.gnu.org:/com/mailer/aliases
     Please also check you have the language code right; see:
     http://www.loc.gov/standards/iso639-2/php/code_list.php
     If the 2-letter ISO 639-1 code is not available,
     use the 3-letter ISO 639-2.
     Please use W3C normative character entities.

     See also '(web-trans)Capitalization':
     http://gnu.org/software/trans-coord/manual/web-trans/html_node/Capitalization.html
     -->

<ul class="translations-list">
<!-- English -->
<li><a href="/server/standards/boilerplate.html">English</a>&nbsp;[en]</li>
</ul>
</div>
</div>
</body>
</html>
