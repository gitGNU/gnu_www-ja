<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../texi/cvs.texinfo on 7 November 1998 -->

<TITLE>CVS--Concurrent Versions System - Concurrency</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="cvs_1.html">first</A>, <A HREF="cvs_39.html">previous</A>, <A HREF="cvs_41.html">next</A>, <A HREF="cvs_148.html">last</A> section, <A HREF="cvs_toc.html">table of contents</A>.
<P><HR><P>


<H2><A NAME="SEC42" HREF="cvs_toc.html#TOC42">Several developers simultaneously attempting to run CVS</A></H2>

<P>
<A NAME="IDX166"></A>
If several developers try to run CVS at the same
time, one may get the following message:

</P>

<PRE>
[11:43:23] waiting for bach's lock in /usr/local/cvsroot/foo
</PRE>

<P>
CVS will try again every 30 seconds, and either
continue with the operation or print the message again,
if it still needs to wait.  If a lock seems to stick
around for an undue amount of time, find the person
holding the lock and ask them about the cvs command
they are running.  If they aren't running a cvs
command, look for and remove files starting with
<TT>`#cvs.tfl'</TT>, <TT>`#cvs.rfl'</TT>, or <TT>`#cvs.wfl'</TT>
from the repository.

</P>
<P>
Note that these locks are to protect CVS's
internal data structures and have no relationship to
the word <EM>lock</EM> in the sense used by
RCS---which refers to reserved checkouts
(see section <A HREF="cvs_35.html#SEC37">Multiple developers</A>).

</P>
<P>
Any number of people can be reading from a given
repository at a time; only when someone is writing do
the locks prevent other people from reading or writing.

</P>
<P>
<A NAME="IDX167"></A>
<A NAME="IDX168"></A>
One might hope for the following property

</P>

<PRE>
If someone commits some changes in one cvs command,
then an update by someone else will either get all the
changes, or none of them.
</PRE>

<P>
but CVS does <EM>not</EM> have this property.  For
example, given the files

</P>

<PRE>
a/one.c
a/two.c
b/three.c
b/four.c
</PRE>

<P>
if someone runs

</P>

<PRE>
cvs ci a/two.c b/three.c
</PRE>

<P>
and someone else runs <CODE>cvs update</CODE> at the same
time, the person running <CODE>update</CODE> might get only
the change to <TT>`b/three.c'</TT> and not the change to
<TT>`a/two.c'</TT>.

</P>
<P><HR><P>
Go to the <A HREF="cvs_1.html">first</A>, <A HREF="cvs_39.html">previous</A>, <A HREF="cvs_41.html">next</A>, <A HREF="cvs_148.html">last</A> section, <A HREF="cvs_toc.html">table of contents</A>.
</BODY>
</HTML>
