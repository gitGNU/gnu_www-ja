<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../texi/cvs.texinfo on 7 November 1998 -->

<TITLE>CVS--Concurrent Versions System - Getting Notified</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="cvs_1.html">first</A>, <A HREF="cvs_42.html">previous</A>, <A HREF="cvs_44.html">next</A>, <A HREF="cvs_148.html">last</A> section, <A HREF="cvs_toc.html">table of contents</A>.
<P><HR><P>


<H3><A NAME="SEC45" HREF="cvs_toc.html#TOC45">Telling CVS to notify you</A></H3>

<P>
You can tell CVS that you want to receive
notifications about various actions taken on a file.
You can do this without using <CODE>cvs watch on</CODE> for
the file, but generally you will want to use <CODE>cvs
watch on</CODE>, so that developers use the <CODE>cvs edit</CODE>
command.

</P>
<P>
<A NAME="IDX175"></A>
<DL>
<DT><U>Command:</U> <B>cvs watch add</B> <I>[<CODE>-a</CODE> action] [<CODE>-l</CODE>] files ...</I>
<DD><A NAME="IDX176"></A>

</P>
<P>
Add the current user to the list of people to receive notification of
work done on <VAR>files</VAR>.

</P>
<P>
The <CODE>-a</CODE> option specifies what kinds of events CVS should notify
the user about.  <VAR>action</VAR> is one of the following:

</P>
<DL COMPACT>

<DT><CODE>edit</CODE>
<DD>
Another user has applied the <CODE>cvs edit</CODE> command (described
below) to a file.

<DT><CODE>unedit</CODE>
<DD>
Another user has applied the <CODE>cvs unedit</CODE> command (described
below) or the <CODE>cvs release</CODE> command to a file, or has deleted
the file and allowed <CODE>cvs update</CODE> to recreate it.

<DT><CODE>commit</CODE>
<DD>
Another user has committed changes to a file.

<DT><CODE>all</CODE>
<DD>
All of the above.

<DT><CODE>none</CODE>
<DD>
None of the above.  (This is useful with <CODE>cvs edit</CODE>,
described below.)

</DL>

<P>
The <CODE>-a</CODE> option may appear more than once, or not at all.  If
omitted, the action defaults to <CODE>all</CODE>.

</P>
<P>
The <VAR>files</VAR> and <CODE>-l</CODE> option are processed as for the
<CODE>cvs watch</CODE> commands.

</P>
</DL>

<P>
<A NAME="IDX177"></A>
<DL>
<DT><U>Command:</U> <B>cvs watch remove</B> <I>[<CODE>-a</CODE> action] [<CODE>-l</CODE>] files ...</I>
<DD><A NAME="IDX178"></A>

</P>
<P>
Remove a notification request established using <CODE>cvs watch add</CODE>;
the arguments are the same.  If the <CODE>-a</CODE> option is present, only
watches for the specified actions are removed.

</P>
</DL>

<P>
<A NAME="IDX179"></A>
When the conditions exist for notification, CVS
calls the <TT>`notify'</TT> administrative file.  Edit
<TT>`notify'</TT> as one edits the other administrative
files (see section <A HREF="cvs_19.html#SEC20">The administrative files</A>).  This
file follows the usual conventions for administrative
files (see section <A HREF="cvs_133.html#SEC140">The common syntax</A>), where each line is a regular
expression followed by a command to execute.  The
command should contain a single ocurrence of <SAMP>`%s'</SAMP>
which will be replaced by the user to notify; the rest
of the information regarding the notification will be
supplied to the command on standard input.  The
standard thing to put in the <CODE>notify</CODE> file is the
single line:

</P>

<PRE>
ALL mail %s -s \"CVS notification\"
</PRE>

<P>
This causes users to be notified by electronic mail.

</P>
<P>
<A NAME="IDX180"></A>
Note that if you set this up in the straightforward
way, users receive notifications on the server machine.
One could of course write a <TT>`notify'</TT> script which
directed notifications elsewhere, but to make this
easy, CVS allows you to associate a notification
address for each user.  To do so create a file
<TT>`users'</TT> in <TT>`CVSROOT'</TT> with a line for each
user in the format <VAR>user</VAR>:<VAR>value</VAR>.  Then
instead of passing the name of the user to be notified
to <TT>`notify'</TT>, CVS will pass the <VAR>value</VAR>
(normally an email address on some other machine).

</P>
<P><HR><P>
Go to the <A HREF="cvs_1.html">first</A>, <A HREF="cvs_42.html">previous</A>, <A HREF="cvs_44.html">next</A>, <A HREF="cvs_148.html">last</A> section, <A HREF="cvs_toc.html">table of contents</A>.
</BODY>
</HTML>
