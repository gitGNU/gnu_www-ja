<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.52
     from ../texi/cvs.texinfo on 7 November 1998 -->

<TITLE>CVS--Concurrent Versions System - Starting a project with CVS</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="cvs_1.html">first</A>, <A HREF="cvs_5.html">previous</A>, <A HREF="cvs_7.html">next</A>, <A HREF="cvs_25.html">last</A> section, <A HREF="cvs_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC31" HREF="cvs_toc.html#TOC31">Starting a project with CVS</A></H1>
<P>
<A NAME="IDX117"></A>
<A NAME="IDX118"></A>

</P>
<P>
Because renaming files and moving them between
directories is somewhat inconvenient, the first thing
you do when you start a new project should be to think
through your file organization.  It is not impossible
to rename or move files, but it does increase the
potential for confusion and CVS does have some
quirks particularly in the area of renaming
directories.  See section <A HREF="cvs_14.html#SEC67">Moving and renaming files</A>.

</P>
<P>
What to do next depends on the situation at hand.

</P>



<H2><A NAME="SEC32" HREF="cvs_toc.html#TOC32">Setting up the files</A></H2>

<P>
The first step is to create the files inside the repository.  This can
be done in a couple of different ways.

</P>



<H3><A NAME="SEC33" HREF="cvs_toc.html#TOC33">Creating a directory tree from a number of files</A></H3>
<P>
<A NAME="IDX119"></A>

</P>
<P>
When you begin using CVS, you will probably already have several
projects that can be
put under CVS control.  In these cases the easiest way is to use the
<CODE>import</CODE> command.  An example is probably the easiest way to
explain how to use it.  If the files you want to install in
CVS reside in <TT>`<VAR>wdir</VAR>'</TT>, and you want them to appear in the
repository as <TT>`$CVSROOT/yoyodyne/<VAR>rdir</VAR>'</TT>, you can do this:

</P>

<PRE>
$ cd <VAR>wdir</VAR>
$ cvs import -m "Imported sources" yoyodyne/<VAR>rdir</VAR> yoyo start
</PRE>

<P>
Unless you supply a log message with the <SAMP>`-m'</SAMP>
flag, CVS starts an editor and prompts for a
message.  The string <SAMP>`yoyo'</SAMP> is a <EM>vendor tag</EM>,
and <SAMP>`start'</SAMP> is a <EM>release tag</EM>.  They may fill
no purpose in this context, but since CVS requires
them they must be present.  See section <A HREF="cvs_13.html#SEC63">Tracking third-party sources</A>, for
more information about them.

</P>
<P>
You can now verify that it worked, and remove your
original source directory.

</P>

<PRE>
$ cd ..
$ mv <VAR>dir</VAR> <VAR>dir</VAR>.orig
$ cvs checkout yoyodyne/<VAR>dir</VAR>       # Explanation below
$ ls -R yoyodyne
$ rm -r <VAR>dir</VAR>.orig
</PRE>

<P>
Erasing the original sources is a good idea, to make sure that you do
not accidentally edit them in <VAR>dir</VAR>, bypassing CVS.
Of course, it would be wise to make sure that you have
a backup of the sources before you remove them.

</P>
<P>
The <CODE>checkout</CODE> command can either take a module
name as argument (as it has done in all previous
examples) or a path name relative to <CODE>$CVSROOT</CODE>,
as it did in the example above.

</P>
<P>
It is a good idea to check that the permissions
CVS sets on the directories inside <SAMP>`$CVSROOT'</SAMP>
are reasonable, and that they belong to the proper
groups.  See section <A HREF="cvs_5.html#SEC19">File permissions</A>.

</P>
<P>
If some of the files you want to import are binary, you
may want to use the wrappers features to specify which
files are binary and which are not.  See section <A HREF="cvs_21.html#SEC138">The cvswrappers file</A>.

</P>


<H3><A NAME="SEC34" HREF="cvs_toc.html#TOC34">Creating Files From Other Version Control Systems</A></H3>
<P>
<A NAME="IDX120"></A>

</P>
<P>
If you have a project which you are maintaining with
another version control system, such as RCS, you
may wish to put the files from that project into
CVS, and preserve the revision history of the
files.

</P>
<DL COMPACT>

<DT>From RCS
<DD>
<A NAME="IDX121"></A>
 
If you have been using RCS, find the RCS
files--usually a file named <TT>`foo.c'</TT> will have its
RCS file in <TT>`RCS/foo.c,v'</TT> (but it could be
other places; consult the RCS documentation for
details).  Then create the appropriate directories in
CVS if they do not already exist.  Then copy the
files into the appropriate directories in the CVS
repository (the name in the repository must be the name
of the source file with <SAMP>`,v'</SAMP> added; the files go
directly in the appopriate directory of the repository,
not in an <TT>`RCS'</TT> subdirectory).  This is one of the
few times when it is a good idea to access the CVS
repository directly, rather than using CVS
commands.  Then you are ready to check out a new
working directory.

The RCS file should not be locked when you move it
into CVS; if it is, CVS will have trouble
letting you operate on it.

<DT>From another version control system
<DD>
Many version control systems have the ability to export
RCS files in the standard format.  If yours does,
export the RCS files and then follow the above
instructions.

<A NAME="IDX122"></A>
<DT>From SCCS
<DD>
There is a script in the <TT>`contrib'</TT> directory of
the CVS source distribution called <TT>`sccs2rcs'</TT>
which converts SCCS files to RCS files.
Note: you must run it on a machine which has both
SCCS and RCS installed, and like everything
else in contrib it is unsupported (your mileage may
vary).
</DL>



<H3><A NAME="SEC35" HREF="cvs_toc.html#TOC35">Creating a directory tree from scratch</A></H3>

<P>
For a new project, the easiest thing to do is probably
to create an empty directory structure, like this:

</P>

<PRE>
$ mkdir tc
$ mkdir tc/man
$ mkdir tc/testing
</PRE>

<P>
After that, you use the <CODE>import</CODE> command to create
the corresponding (empty) directory structure inside
the repository:

</P>

<PRE>
$ cd tc
$ cvs import -m "Created directory structure" yoyodyne/<VAR>dir</VAR> yoyo start
</PRE>

<P>
Then, use <CODE>add</CODE> to add files (and new directories)
as they appear.

</P>
<P>
Check that the permissions CVS sets on the
directories inside <SAMP>`$CVSROOT'</SAMP> are reasonable.

</P>


<H2><A NAME="SEC36" HREF="cvs_toc.html#TOC36">Defining the module</A></H2>
<P>
<A NAME="IDX123"></A>
<A NAME="IDX124"></A>
<A NAME="IDX125"></A>
<A NAME="IDX126"></A>

</P>
<P>
The next step is to define the module in the
<TT>`modules'</TT> file.  This is not strictly necessary,
but modules can be convenient in grouping together
related files and directories.

</P>
<P>
In simple cases these steps are sufficient to define a module.

</P>

<OL>
<LI>

Get a working copy of the modules file.


<PRE>
$ cvs checkout CVSROOT/modules
$ cd CVSROOT
</PRE>

<LI>

Edit the file and insert a line that defines the module.  See section <A HREF="cvs_5.html#SEC20">The administrative files</A>, for an introduction.  See section <A HREF="cvs_21.html#SEC137">The modules file</A>, for a full
description of the modules file.  You can use the
following line to define the module <SAMP>`tc'</SAMP>:


<PRE>
tc   yoyodyne/tc
</PRE>

<LI>

Commit your changes to the modules file.


<PRE>
$ cvs commit -m "Added the tc module." modules
</PRE>

<LI>

Release the modules module.


<PRE>
$ cd ..
$ cvs release -d CVSROOT
</PRE>

</OL>

<P><HR><P>
Go to the <A HREF="cvs_1.html">first</A>, <A HREF="cvs_5.html">previous</A>, <A HREF="cvs_7.html">next</A>, <A HREF="cvs_25.html">last</A> section, <A HREF="cvs_toc.html">table of contents</A>.
</BODY>
</HTML>
