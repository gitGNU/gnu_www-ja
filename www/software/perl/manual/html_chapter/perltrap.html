<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by Texinfo 5.1.90+dev, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Perl pod documentation: perltrap</title>

<meta name="description" content="Perl pod documentation: perltrap">
<meta name="keywords" content="Perl pod documentation: perltrap">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html#Top" rel="up" title="Top">
<link href="perlunicode.html#perlunicode" rel="next" title="perlunicode">
<link href="perltoot.html#perltoot-DESCRIPTION" rel="prev" title="perltoot DESCRIPTION">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="perltrap"></a>
<div class="header">
<p>
Next: <a href="perlunicode.html#perlunicode" accesskey="n" rel="next">perlunicode</a>, Previous: <a href="perltoot.html#perltoot" accesskey="p" rel="prev">perltoot</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="perltrap-1"></a>
<h2 class="chapter">79 perltrap</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perltrap-NAME" accesskey="1">perltrap NAME</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perltrap-DESCRIPTION" accesskey="2">perltrap DESCRIPTION</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perltrap-NAME"></a>
<div class="header">
<p>
Next: <a href="#perltrap-DESCRIPTION" accesskey="n" rel="next">perltrap DESCRIPTION</a>, Up: <a href="#perltrap" accesskey="u" rel="up">perltrap</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="NAME-78"></a>
<h3 class="section">79.1 NAME</h3>

<p>perltrap - Perl traps for the unwary
</p>
<hr>
<a name="perltrap-DESCRIPTION"></a>
<div class="header">
<p>
Previous: <a href="#perltrap-NAME" accesskey="p" rel="prev">perltrap NAME</a>, Up: <a href="#perltrap" accesskey="u" rel="up">perltrap</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="DESCRIPTION-77"></a>
<h3 class="section">79.2 DESCRIPTION</h3>

<p>The biggest trap of all is forgetting to <code>use warnings</code> or use the <strong>-w</strong>
switch; see <a href="perllexwarn.html#perllexwarn-NAME">perllexwarn NAME</a> and <a href="perlrun.html#perlrun-NAME">perlrun NAME</a>. The second biggest trap is not
making your entire program runnable under <code>use strict</code>.  The third biggest
trap is not reading the list of changes in this version of Perl; see
<a href="../perldelta/index.html">(perldelta)</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perltrap-Awk-Traps" accesskey="1">perltrap Awk Traps</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perltrap-C_002fC_002b_002b-Traps" accesskey="2">perltrap C/C++ Traps</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perltrap-Sed-Traps" accesskey="3">perltrap Sed Traps</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perltrap-Shell-Traps" accesskey="4">perltrap Shell Traps</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perltrap-Perl-Traps" accesskey="5">perltrap Perl Traps</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perltrap-Awk-Traps"></a>
<div class="header">
<p>
Next: <a href="#perltrap-C_002fC_002b_002b-Traps" accesskey="n" rel="next">perltrap C/C++ Traps</a>, Up: <a href="#perltrap-DESCRIPTION" accesskey="u" rel="up">perltrap DESCRIPTION</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Awk-Traps"></a>
<h4 class="subsection">79.2.1 Awk Traps</h4>

<p>Accustomed <strong>awk</strong> users should take special note of the following:
</p>
<ul>
<li> A Perl program executes only once, not once for each input line.  You can
do an implicit loop with <code>-n</code> or <code>-p</code>.

</li><li> The English module, loaded via

<pre class="verbatim">    use English;
</pre>
<p>allows you to refer to special variables (like <code>$/</code>) with names (like
$RS), as though they were in <strong>awk</strong>; see <a href="perlvar.html#perlvar-NAME">perlvar NAME</a> for details.
</p>
</li><li> Semicolons are required after all simple statements in Perl (except
at the end of a block).  Newline is not a statement delimiter.

</li><li> Curly brackets are required on <code>if</code>s and <code>while</code>s.

</li><li> Variables begin with &quot;$&quot;, &quot;@&quot; or &quot;%&quot; in Perl.

</li><li> Arrays index from 0.  Likewise string positions in substr() and
index().

</li><li> You have to decide whether your array has numeric or string indices.

</li><li> Hash values do not spring into existence upon mere reference.

</li><li> You have to decide whether you want to use string or numeric
comparisons.

</li><li> Reading an input line does not split it for you.  You get to split it
to an array yourself.  And the split() operator has different
arguments than <strong>awk</strong>&rsquo;s.

</li><li> The current input line is normally in $_, not $0.  It generally does
not have the newline stripped.  ($0 is the name of the program
executed.)  See <a href="perlvar.html#perlvar-NAME">perlvar NAME</a>.

</li><li> $&lt;<em>digit</em>&gt; does not refer to fields&ndash;it refers to substrings matched
by the last match pattern.

</li><li> The print() statement does not add field and record separators unless
you set <code>$,</code> and <code>$\</code>.  You can set $OFS and $ORS if you&rsquo;re using
the English module.

</li><li> You must open your files before you print to them.

</li><li> The range operator is &quot;..&quot;, not comma.  The comma operator works as in
C.

</li><li> The match operator is &quot;=~&quot;, not &quot;~&quot;.  (&quot;~&quot; is the one&rsquo;s complement
operator, as in C.)

</li><li> The exponentiation operator is &quot;**&quot;, not &quot;^&quot;.  &quot;^&quot; is the XOR
operator, as in C.  (You know, one could get the feeling that <strong>awk</strong> is
basically incompatible with C.)

</li><li> The concatenation operator is &quot;.&quot;, not the null string.  (Using the
null string would render <code>/pat/ /pat/</code> unparsable, because the third slash
would be interpreted as a division operator&ndash;the tokenizer is in fact
slightly context sensitive for operators like &quot;/&quot;, &quot;?&quot;, and &quot;&gt;&quot;.
And in fact, &quot;.&quot; itself can be the beginning of a number.)

</li><li> The <code>next</code>, <code>exit</code>, and <code>continue</code> keywords work differently.

</li><li> The following variables work differently:

<pre class="verbatim">      Awk       Perl
      ARGC      scalar @ARGV (compare with $#ARGV)
      ARGV[0]   $0
      FILENAME  $ARGV
      FNR       $. - something
      FS        (whatever you like)
      NF        $#Fld, or some such
      NR        $.
      OFMT      $#
      OFS       $,
      ORS       $\
      RLENGTH   length($&amp;)
      RS        $/
      RSTART    length($`)
      SUBSEP    $;
</pre>
</li><li> You cannot set $RS to a pattern, only a string.

</li><li> When in doubt, run the <strong>awk</strong> construct through <strong>a2p</strong> and see what it
gives you.

</li></ul>

<hr>
<a name="perltrap-C_002fC_002b_002b-Traps"></a>
<div class="header">
<p>
Next: <a href="#perltrap-Sed-Traps" accesskey="n" rel="next">perltrap Sed Traps</a>, Previous: <a href="#perltrap-Awk-Traps" accesskey="p" rel="prev">perltrap Awk Traps</a>, Up: <a href="#perltrap-DESCRIPTION" accesskey="u" rel="up">perltrap DESCRIPTION</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="C_002fC_002b_002b-Traps"></a>
<h4 class="subsection">79.2.2 C/C++ Traps</h4>

<p>Cerebral C and C++ programmers should take note of the following:
</p>
<ul>
<li> Curly brackets are required on <code>if</code>&rsquo;s and <code>while</code>&rsquo;s.

</li><li> You must use <code>elsif</code> rather than <code>else if</code>.

</li><li> The <code>break</code> and <code>continue</code> keywords from C become in Perl <code>last</code>
and <code>next</code>, respectively.  Unlike in C, these do <em>not</em> work within a
<code>do { } while</code> construct.  See <a href="perlsyn.html#perlsyn-Loop-Control">perlsyn Loop Control</a>.

</li><li> The switch statement is called <code>given/when</code> and only available in
perl 5.10 or newer.  See <a href="perlsyn.html#perlsyn-Switch-Statements">perlsyn Switch Statements</a>.

</li><li> Variables begin with &quot;$&quot;, &quot;@&quot; or &quot;%&quot; in Perl.

</li><li> Comments begin with &quot;#&quot;, not &quot;/*&quot; or &quot;//&quot;.  Perl may interpret C/C++
comments as division operators, unterminated regular expressions or
the defined-or operator.

</li><li> You can&rsquo;t take the address of anything, although a similar operator
in Perl is the backslash, which creates a reference.

</li><li> <code>ARGV</code> must be capitalized.  <code>$ARGV[0]</code> is C&rsquo;s <code>argv[1]</code>, and <code>argv[0]</code>
ends up in <code>$0</code>.

</li><li> System calls such as link(), unlink(), rename(), etc. return nonzero for
success, not 0. (system(), however, returns zero for success.)

</li><li> Signal handlers deal with signal names, not numbers.  Use <code>kill -l</code>
to find their names on your system.

</li></ul>

<hr>
<a name="perltrap-Sed-Traps"></a>
<div class="header">
<p>
Next: <a href="#perltrap-Shell-Traps" accesskey="n" rel="next">perltrap Shell Traps</a>, Previous: <a href="#perltrap-C_002fC_002b_002b-Traps" accesskey="p" rel="prev">perltrap C/C++ Traps</a>, Up: <a href="#perltrap-DESCRIPTION" accesskey="u" rel="up">perltrap DESCRIPTION</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Sed-Traps"></a>
<h4 class="subsection">79.2.3 Sed Traps</h4>

<p>Seasoned <strong>sed</strong> programmers should take note of the following:
</p>
<ul>
<li> A Perl program executes only once, not once for each input line.  You can
do an implicit loop with <code>-n</code> or <code>-p</code>.

</li><li> Backreferences in substitutions use &quot;$&quot; rather than &quot;\&quot;.

</li><li> The pattern matching metacharacters &quot;(&quot;, &quot;)&quot;, and &quot;|&quot; do not have backslashes
in front.

</li><li> The range operator is <code>...</code>, rather than comma.

</li></ul>

<hr>
<a name="perltrap-Shell-Traps"></a>
<div class="header">
<p>
Next: <a href="#perltrap-Perl-Traps" accesskey="n" rel="next">perltrap Perl Traps</a>, Previous: <a href="#perltrap-Sed-Traps" accesskey="p" rel="prev">perltrap Sed Traps</a>, Up: <a href="#perltrap-DESCRIPTION" accesskey="u" rel="up">perltrap DESCRIPTION</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Shell-Traps"></a>
<h4 class="subsection">79.2.4 Shell Traps</h4>

<p>Sharp shell programmers should take note of the following:
</p>
<ul>
<li> The backtick operator does variable interpolation without regard to
the presence of single quotes in the command.

</li><li> The backtick operator does no translation of the return value, unlike <strong>csh</strong>.

</li><li> Shells (especially <strong>csh</strong>) do several levels of substitution on each
command line.  Perl does substitution in only certain constructs
such as double quotes, backticks, angle brackets, and search patterns.

</li><li> Shells interpret scripts a little bit at a time.  Perl compiles the
entire program before executing it (except for <code>BEGIN</code> blocks, which
execute at compile time).

</li><li> The arguments are available via @ARGV, not $1, $2, etc.

</li><li> The environment is not automatically made available as separate scalar
variables.

</li><li> The shell&rsquo;s <code>test</code> uses &quot;=&quot;, &quot;!=&quot;, &quot;&lt;&quot; etc for string comparisons and &quot;-eq&quot;,
&quot;-ne&quot;, &quot;-lt&quot; etc for numeric comparisons. This is the reverse of Perl, which
uses <code>eq</code>, <code>ne</code>, <code>lt</code> for string comparisons, and <code>==</code>, <code>!=</code> <code>&lt;</code> etc
for numeric comparisons.

</li></ul>

<hr>
<a name="perltrap-Perl-Traps"></a>
<div class="header">
<p>
Previous: <a href="#perltrap-Shell-Traps" accesskey="p" rel="prev">perltrap Shell Traps</a>, Up: <a href="#perltrap-DESCRIPTION" accesskey="u" rel="up">perltrap DESCRIPTION</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Perl-Traps"></a>
<h4 class="subsection">79.2.5 Perl Traps</h4>

<p>Practicing Perl Programmers should take note of the following:
</p>
<ul>
<li> Remember that many operations behave differently in a list
context than they do in a scalar one.  See <a href="perldata.html#perldata-NAME">perldata NAME</a> for details.

</li><li> Avoid barewords if you can, especially all lowercase ones.
You can&rsquo;t tell by just looking at it whether a bareword is
a function or a string.  By using quotes on strings and
parentheses on function calls, you won&rsquo;t ever get them confused.

</li><li> You cannot discern from mere inspection which builtins
are unary operators (like chop() and chdir())
and which are list operators (like print() and unlink()).
(Unless prototyped, user-defined subroutines can <strong>only</strong> be list
operators, never unary ones.)  See <a href="perlop.html#perlop-NAME">perlop NAME</a> and <a href="perlsub.html#perlsub-NAME">perlsub NAME</a>.

</li><li> People have a hard time remembering that some functions
default to $_, or @ARGV, or whatever, but that others which
you might expect to do not.

</li><li> The &lt;FH&gt; construct is not the name of the filehandle, it is a readline
operation on that handle.  The data read is assigned to $_ only if the
file read is the sole condition in a while loop:

<pre class="verbatim">    while (&lt;FH&gt;)      { }
    while (defined($_ = &lt;FH&gt;)) { }..
    &lt;FH&gt;;  # data discarded!
</pre>
</li><li> Remember not to use <code>=</code> when you need <code>=~</code>;
these two constructs are quite different:

<pre class="verbatim">    $x =  /foo/;
    $x =~ /foo/;
</pre>
</li><li> The <code>do {}</code> construct isn&rsquo;t a real loop that you can use
loop control on.

</li><li> Use <code>my()</code> for local variables whenever you can get away with
it (but see <a href="perlform.html#perlform-NAME">perlform NAME</a> for where you can&rsquo;t).
Using <code>local()</code> actually gives a local value to a global
variable, which leaves you open to unforeseen side-effects
of dynamic scoping.

</li><li> If you localize an exported variable in a module, its exported value will
not change.  The local name becomes an alias to a new value but the
external name is still an alias for the original.

</li></ul>

<p>As always, if any of these are ever officially declared as bugs,
they&rsquo;ll be fixed and removed.
</p>
<hr>
<div class="header">
<p>
Previous: <a href="#perltrap-Shell-Traps" accesskey="p" rel="prev">perltrap Shell Traps</a>, Up: <a href="#perltrap-DESCRIPTION" accesskey="u" rel="up">perltrap DESCRIPTION</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>



</body>
</html>
