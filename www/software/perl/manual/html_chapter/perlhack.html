<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by Texinfo 5.1+dev, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Perl pod documentation: perlhack</title>

<meta name="description" content="Perl pod documentation: perlhack">
<meta name="keywords" content="Perl pod documentation: perlhack">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html#Top" rel="up" title="Top">
<link href="perlhacktips.html#perlhacktips" rel="next" title="perlhacktips">
<link href="perlguts.html#perlguts-SEE-ALSO" rel="previous" title="perlguts SEE ALSO">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="perlhack"></a>
<div class="header">
<p>
Next: <a href="perlhacktips.html#perlhacktips" accesskey="n" rel="next">perlhacktips</a>, Previous: <a href="perlguts.html#perlguts" accesskey="p" rel="previous">perlguts</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="perlhack-1"></a>
<h2 class="chapter">29 perlhack</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-NAME" accesskey="1">perlhack NAME</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-DESCRIPTION" accesskey="2">perlhack DESCRIPTION</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-SUPER-QUICK-PATCH-GUIDE" accesskey="3">perlhack SUPER QUICK PATCH GUIDE</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-BUG-REPORTING" accesskey="4">perlhack BUG REPORTING</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-PERL-5-PORTERS" accesskey="5">perlhack PERL 5 PORTERS</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-GETTING-THE-PERL-SOURCE" accesskey="6">perlhack GETTING THE PERL SOURCE</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-PATCHING-PERL" accesskey="7">perlhack PATCHING PERL</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-TESTING" accesskey="8">perlhack TESTING</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-MORE-READING-FOR-GUTS-HACKERS" accesskey="9">perlhack MORE READING FOR GUTS HACKERS</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-CPAN-TESTERS-AND-PERL-SMOKERS">perlhack CPAN TESTERS AND PERL SMOKERS</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-WHAT-NEXT_003f">perlhack WHAT NEXT?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-AUTHOR">perlhack AUTHOR</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-NAME"></a>
<div class="header">
<p>
Next: <a href="#perlhack-DESCRIPTION" accesskey="n" rel="next">perlhack DESCRIPTION</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="NAME-28"></a>
<h3 class="section">29.1 NAME</h3>

<p>perlhack - How to hack on Perl
</p>
<hr>
<a name="perlhack-DESCRIPTION"></a>
<div class="header">
<p>
Next: <a href="#perlhack-SUPER-QUICK-PATCH-GUIDE" accesskey="n" rel="next">perlhack SUPER QUICK PATCH GUIDE</a>, Previous: <a href="#perlhack-NAME" accesskey="p" rel="previous">perlhack NAME</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="DESCRIPTION-28"></a>
<h3 class="section">29.2 DESCRIPTION</h3>

<p>This document explains how Perl development works. It includes details
about the Perl 5 Porters email list, the Perl repository, the Perlbug
bug tracker, patch guidelines, and commentary on Perl development
philosophy.
</p>
<hr>
<a name="perlhack-SUPER-QUICK-PATCH-GUIDE"></a>
<div class="header">
<p>
Next: <a href="#perlhack-BUG-REPORTING" accesskey="n" rel="next">perlhack BUG REPORTING</a>, Previous: <a href="#perlhack-DESCRIPTION" accesskey="p" rel="previous">perlhack DESCRIPTION</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="SUPER-QUICK-PATCH-GUIDE"></a>
<h3 class="section">29.3 SUPER QUICK PATCH GUIDE</h3>

<p>If you just want to submit a single small patch like a pod fix, a test
for a bug, comment fixes, etc., it&rsquo;s easy! Here&rsquo;s how:
</p>
<ul>
<li> Check out the source repository

<p>The perl source is in a git repository. You can clone the repository
with the following command:
</p>
<pre class="verbatim">  % git clone git://perl5.git.perl.org/perl.git perl
</pre>
</li><li> Make your change

<p>Hack, hack, hack.
</p>
</li><li> Test your change

<p>You can run all the tests with the following commands:
</p>
<pre class="verbatim">  % ./Configure -des -Dusedevel
  % make test
</pre>
<p>Keep hacking until the tests pass.
</p>
</li><li> Commit your change

<p>Committing your work will save the change <em>on your local system</em>:
</p>
<pre class="verbatim">  % git commit -a -m 'Commit message goes here'
</pre>
<p>Make sure the commit message describes your change in a single
sentence. For example, &quot;Fixed spelling errors in perlhack.pod&quot;.
</p>
</li><li> Send your change to perlbug

<p>The next step is to submit your patch to the Perl core ticket system
via email.
</p>
<p>Assuming your patch consists of a single git commit, the following
writes the file as a MIME attachment, and sends it with a meaningful
subject:
</p>
<pre class="verbatim">  % git format-patch -1 --attach
  % perlbug -s &quot;[PATCH] $(git log -1 --oneline HEAD)&quot; -f 0001-*.patch
</pre>
<p>The perlbug program will ask you a few questions about your email
address and the patch you&rsquo;re submitting. Once you&rsquo;ve answered them it
will submit your patch via email.
</p>
</li><li> Thank you

<p>The porters appreciate the time you spent helping to make Perl better.
Thank you!
</p>
</li></ul>

<hr>
<a name="perlhack-BUG-REPORTING"></a>
<div class="header">
<p>
Next: <a href="#perlhack-PERL-5-PORTERS" accesskey="n" rel="next">perlhack PERL 5 PORTERS</a>, Previous: <a href="#perlhack-SUPER-QUICK-PATCH-GUIDE" accesskey="p" rel="previous">perlhack SUPER QUICK PATCH GUIDE</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="BUG-REPORTING"></a>
<h3 class="section">29.4 BUG REPORTING</h3>

<p>If you want to report a bug in Perl, you must use the <samp>perlbug</samp>
command line tool. This tool will ensure that your bug report includes
all the relevant system and configuration information.
</p>
<p>To browse existing Perl bugs and patches, you can use the web interface
at <a href="http://rt.perl.org/">http://rt.perl.org/</a>.
</p>
<p>Please check the archive of the perl5-porters list (see below) and/or
the bug tracking system before submitting a bug report. Often, you&rsquo;ll
find that the bug has been reported already.
</p>
<p>You can log in to the bug tracking system and comment on existing bug
reports. If you have additional information regarding an existing bug,
please add it. This will help the porters fix the bug.
</p>
<hr>
<a name="perlhack-PERL-5-PORTERS"></a>
<div class="header">
<p>
Next: <a href="#perlhack-GETTING-THE-PERL-SOURCE" accesskey="n" rel="next">perlhack GETTING THE PERL SOURCE</a>, Previous: <a href="#perlhack-BUG-REPORTING" accesskey="p" rel="previous">perlhack BUG REPORTING</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="PERL-5-PORTERS"></a>
<h3 class="section">29.5 PERL 5 PORTERS</h3>

<p>The perl5-porters (p5p) mailing list is where the Perl standard
distribution is maintained and developed. The people who maintain Perl
are also referred to as the &quot;Perl 5 Porters&quot;, &quot;p5p&quot; or just the
&quot;porters&quot;.
</p>
<p>A searchable archive of the list is available at
<a href="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/</a>. There is
also another archive at
<a href="http://archive.develooper.com/perl5-porters@perl.org/">http://archive.develooper.com/perl5-porters@perl.org/</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-perl_002dchanges-mailing-list" accesskey="1">perlhack perl-changes mailing list</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-_0023p5p-on-IRC" accesskey="2">perlhack #p5p on IRC</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-perl_002dchanges-mailing-list"></a>
<div class="header">
<p>
Next: <a href="#perlhack-_0023p5p-on-IRC" accesskey="n" rel="next">perlhack #p5p on IRC</a>, Up: <a href="#perlhack-PERL-5-PORTERS" accesskey="u" rel="up">perlhack PERL 5 PORTERS</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="perl_002dchanges-mailing-list"></a>
<h4 class="subsection">29.5.1 perl-changes mailing list</h4>

<p>The perl5-changes mailing list receives a copy of each patch that gets
submitted to the maintenance and development branches of the perl
repository. See <a href="http://lists.perl.org/list/perl5-changes.html">http://lists.perl.org/list/perl5-changes.html</a> for
subscription and archive information.
</p>
<hr>
<a name="perlhack-_0023p5p-on-IRC"></a>
<div class="header">
<p>
Previous: <a href="#perlhack-perl_002dchanges-mailing-list" accesskey="p" rel="previous">perlhack perl-changes mailing list</a>, Up: <a href="#perlhack-PERL-5-PORTERS" accesskey="u" rel="up">perlhack PERL 5 PORTERS</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="g_t_0023p5p-on-IRC"></a>
<h4 class="subsection">29.5.2 #p5p on IRC</h4>

<p>Many porters are also active on the <a href="irc://irc.perl.org/#p5p">irc://irc.perl.org/#p5p</a> channel.
Feel free to join the channel and ask questions about hacking on the
Perl core.
</p>
<hr>
<a name="perlhack-GETTING-THE-PERL-SOURCE"></a>
<div class="header">
<p>
Next: <a href="#perlhack-PATCHING-PERL" accesskey="n" rel="next">perlhack PATCHING PERL</a>, Previous: <a href="#perlhack-PERL-5-PORTERS" accesskey="p" rel="previous">perlhack PERL 5 PORTERS</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="GETTING-THE-PERL-SOURCE"></a>
<h3 class="section">29.6 GETTING THE PERL SOURCE</h3>

<p>All of Perl&rsquo;s source code is kept centrally in a Git repository at
<em>perl5.git.perl.org</em>. The repository contains many Perl revisions from
Perl 1 onwards and all the revisions from Perforce, the previous
version control system.
</p>
<p>For much more detail on using git with the Perl repository, please see
<a href="perlgit.html#perlgit-NAME">perlgit NAME</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Read-access-via-Git" accesskey="1">perlhack Read access via Git</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Read-access-via-the-web" accesskey="2">perlhack Read access via the web</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Read-access-via-rsync" accesskey="3">perlhack Read access via rsync</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Write-access-via-git" accesskey="4">perlhack Write access via git</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-Read-access-via-Git"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Read-access-via-the-web" accesskey="n" rel="next">perlhack Read access via the web</a>, Up: <a href="#perlhack-GETTING-THE-PERL-SOURCE" accesskey="u" rel="up">perlhack GETTING THE PERL SOURCE</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Read-access-via-Git"></a>
<h4 class="subsection">29.6.1 Read access via Git</h4>

<p>You will need a copy of Git for your computer. You can fetch a copy of
the repository using the git protocol:
</p>
<pre class="verbatim">  % git clone git://perl5.git.perl.org/perl.git perl
</pre>
<p>This clones the repository and makes a local copy in the <samp>perl</samp>
directory.
</p>
<p>If you cannot use the git protocol for firewall reasons, you can also
clone via http, though this is much slower:
</p>
<pre class="verbatim">  % git clone http://perl5.git.perl.org/perl.git perl
</pre>
<hr>
<a name="perlhack-Read-access-via-the-web"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Read-access-via-rsync" accesskey="n" rel="next">perlhack Read access via rsync</a>, Previous: <a href="#perlhack-Read-access-via-Git" accesskey="p" rel="previous">perlhack Read access via Git</a>, Up: <a href="#perlhack-GETTING-THE-PERL-SOURCE" accesskey="u" rel="up">perlhack GETTING THE PERL SOURCE</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Read-access-via-the-web"></a>
<h4 class="subsection">29.6.2 Read access via the web</h4>

<p>You may access the repository over the web. This allows you to browse
the tree, see recent commits, subscribe to RSS feeds for the changes,
search for particular commits and more. You may access it at
<a href="http://perl5.git.perl.org/perl.git">http://perl5.git.perl.org/perl.git</a>. A mirror of the repository is
found at <a href="http://github.com/mirrors/perl">http://github.com/mirrors/perl</a>.
</p>
<hr>
<a name="perlhack-Read-access-via-rsync"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Write-access-via-git" accesskey="n" rel="next">perlhack Write access via git</a>, Previous: <a href="#perlhack-Read-access-via-the-web" accesskey="p" rel="previous">perlhack Read access via the web</a>, Up: <a href="#perlhack-GETTING-THE-PERL-SOURCE" accesskey="u" rel="up">perlhack GETTING THE PERL SOURCE</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Read-access-via-rsync"></a>
<h4 class="subsection">29.6.3 Read access via rsync</h4>

<p>You can also choose to use rsync to get a copy of the current source
tree for the bleadperl branch and all maintenance branches:
</p>
<pre class="verbatim">    % rsync -avz rsync://perl5.git.perl.org/perl-current .
    % rsync -avz rsync://perl5.git.perl.org/perl-5.12.x .
    % rsync -avz rsync://perl5.git.perl.org/perl-5.10.x .
    % rsync -avz rsync://perl5.git.perl.org/perl-5.8.x .
    % rsync -avz rsync://perl5.git.perl.org/perl-5.6.x .
    % rsync -avz rsync://perl5.git.perl.org/perl-5.005xx .
</pre>
<p>(Add the <code>--delete</code> option to remove leftover files.)
</p>
<p>To get a full list of the available sync points:
</p>
<pre class="verbatim">    % rsync perl5.git.perl.org::
</pre>
<hr>
<a name="perlhack-Write-access-via-git"></a>
<div class="header">
<p>
Previous: <a href="#perlhack-Read-access-via-rsync" accesskey="p" rel="previous">perlhack Read access via rsync</a>, Up: <a href="#perlhack-GETTING-THE-PERL-SOURCE" accesskey="u" rel="up">perlhack GETTING THE PERL SOURCE</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Write-access-via-git"></a>
<h4 class="subsection">29.6.4 Write access via git</h4>

<p>If you have a commit bit, please see <a href="perlgit.html#perlgit-NAME">perlgit NAME</a> for more details on
using git.
</p>
<hr>
<a name="perlhack-PATCHING-PERL"></a>
<div class="header">
<p>
Next: <a href="#perlhack-TESTING" accesskey="n" rel="next">perlhack TESTING</a>, Previous: <a href="#perlhack-GETTING-THE-PERL-SOURCE" accesskey="p" rel="previous">perlhack GETTING THE PERL SOURCE</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="PATCHING-PERL"></a>
<h3 class="section">29.7 PATCHING PERL</h3>

<p>If you&rsquo;re planning to do more extensive work than a single small fix,
we encourage you to read the documentation below. This will help you
focus your work and make your patches easier to incorporate into the
Perl source.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Submitting-patches" accesskey="1">perlhack Submitting patches</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Getting-your-patch-accepted" accesskey="2">perlhack Getting your patch accepted</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Patching-a-core-module" accesskey="3">perlhack Patching a core module</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Updating-perldelta" accesskey="4">perlhack Updating perldelta</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="5">perlhack What makes for a good patch?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-Submitting-patches"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Getting-your-patch-accepted" accesskey="n" rel="next">perlhack Getting your patch accepted</a>, Up: <a href="#perlhack-PATCHING-PERL" accesskey="u" rel="up">perlhack PATCHING PERL</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Submitting-patches"></a>
<h4 class="subsection">29.7.1 Submitting patches</h4>

<p>If you have a small patch to submit, please submit it via perlbug. You
can also send email directly to perlbug@perl.org. Please note that
messages sent to perlbug may be held in a moderation queue, so you
won&rsquo;t receive a response immediately.
</p>
<p>You&rsquo;ll know your submission has been processed when you receive an
email from our ticket tracking system. This email will give you a
ticket number. Once your patch has made it to the ticket tracking
system, it will also be sent to the perl5-porters@perl.org list.
</p>
<p>Patches are reviewed and discussed on the p5p list. Simple,
uncontroversial patches will usually be applied without any discussion.
When the patch is applied, the ticket will be updated and you will
receive email. In addition, an email will be sent to the p5p list.
</p>
<p>In other cases, the patch will need more work or discussion. That will
happen on the p5p list.
</p>
<p>You are encouraged to participate in the discussion and advocate for
your patch. Sometimes your patch may get lost in the shuffle. It&rsquo;s
appropriate to send a reminder email to p5p if no action has been taken
in a month. Please remember that the Perl 5 developers are all
volunteers, and be polite.
</p>
<p>Changes are always applied directly to the main development branch,
called &quot;blead&quot;. Some patches may be backported to a maintenance branch.
If you think your patch is appropriate for the maintenance branch,
please explain why when you submit it.
</p>
<hr>
<a name="perlhack-Getting-your-patch-accepted"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Patching-a-core-module" accesskey="n" rel="next">perlhack Patching a core module</a>, Previous: <a href="#perlhack-Submitting-patches" accesskey="p" rel="previous">perlhack Submitting patches</a>, Up: <a href="#perlhack-PATCHING-PERL" accesskey="u" rel="up">perlhack PATCHING PERL</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Getting-your-patch-accepted"></a>
<h4 class="subsection">29.7.2 Getting your patch accepted</h4>

<p>If you are submitting a code patch there are several things that you
can do to help the Perl 5 Porters accept your patch.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Patch-style" accesskey="1">perlhack Patch style</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Commit-message" accesskey="2">perlhack Commit message</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Comments_002c-Comments_002c-Comments" accesskey="3">perlhack Comments, Comments, Comments</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Style" accesskey="4">perlhack Style</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Test-suite" accesskey="5">perlhack Test suite</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-Patch-style"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Commit-message" accesskey="n" rel="next">perlhack Commit message</a>, Up: <a href="#perlhack-Getting-your-patch-accepted" accesskey="u" rel="up">perlhack Getting your patch accepted</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Patch-style"></a>
<h4 class="subsubsection">29.7.2.1 Patch style</h4>

<p>If you used git to check out the Perl source, then using <code>git
format-patch</code> will produce a patch in a style suitable for Perl. The
<code>format-patch</code> command produces one patch file for each commit you
made. If you prefer to send a single patch for all commits, you can use
<code>git diff</code>.
</p>
<pre class="verbatim">  % git checkout blead
  % git pull
  % git diff blead my-branch-name
</pre>
<p>This produces a patch based on the difference between blead and your
current branch. It&rsquo;s important to make sure that blead is up to date
before producing the diff, that&rsquo;s why we call <code>git pull</code> first.
</p>
<p>We strongly recommend that you use git if possible. It will make your
life easier, and ours as well.
</p>
<p>However, if you&rsquo;re not using git, you can still produce a suitable
patch. You&rsquo;ll need a pristine copy of the Perl source to diff against.
The porters prefer unified diffs. Using GNU <code>diff</code>, you can produce a
diff like this:
</p>
<pre class="verbatim">  % diff -Npurd perl.pristine perl.mine
</pre>
<p>Make sure that you <code>make realclean</code> in your copy of Perl to remove any
build artifacts, or you may get a confusing result.
</p>
<hr>
<a name="perlhack-Commit-message"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Comments_002c-Comments_002c-Comments" accesskey="n" rel="next">perlhack Comments, Comments, Comments</a>, Previous: <a href="#perlhack-Patch-style" accesskey="p" rel="previous">perlhack Patch style</a>, Up: <a href="#perlhack-Getting-your-patch-accepted" accesskey="u" rel="up">perlhack Getting your patch accepted</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Commit-message"></a>
<h4 class="subsubsection">29.7.2.2 Commit message</h4>

<p>As you craft each patch you intend to submit to the Perl core, it&rsquo;s
important to write a good commit message. This is especially important
if your submission will consist of a series of commits.
</p>
<p>The first line of the commit message should be a short description
without a period. It should be no longer than the subject line of an
email, 50 characters being a good rule of thumb.
</p>
<p>A lot of Git tools (Gitweb, GitHub, git log &ndash;pretty=oneline, ...) will
only display the first line (cut off at 50 characters) when presenting
commit summaries.
</p>
<p>The commit message should include a description of the problem that the
patch corrects or new functionality that the patch adds.
</p>
<p>As a general rule of thumb, your commit message should help a
programmer who knows the Perl core quickly understand what you were
trying to do, how you were trying to do it, and why the change matters
to Perl.
</p>
<ul>
<li> Why

<p>Your commit message should describe why the change you are making is
important. When someone looks at your change in six months or six
years, your intent should be clear.
</p>
<p>If you&rsquo;re deprecating a feature with the intent of later simplifying
another bit of code, say so. If you&rsquo;re fixing a performance problem or
adding a new feature to support some other bit of the core, mention
that.
</p>
</li><li> What

<p>Your commit message should describe what part of the Perl core you&rsquo;re
changing and what you expect your patch to do.
</p>
</li><li> How

<p>While it&rsquo;s not necessary for documentation changes, new tests or
trivial patches, it&rsquo;s often worth explaining how your change works.
Even if it&rsquo;s clear to you today, it may not be clear to a porter next
month or next year.
</p>
</li></ul>

<p>A commit message isn&rsquo;t intended to take the place of comments in your
code. Commit messages should describe the change you made, while code
comments should describe the current state of the code.
</p>
<p>If you&rsquo;ve just implemented a new feature, complete with doc, tests and
well-commented code, a brief commit message will often suffice. If,
however, you&rsquo;ve just changed a single character deep in the parser or
lexer, you might need to write a small novel to ensure that future
readers understand what you did and why you did it.
</p>
<hr>
<a name="perlhack-Comments_002c-Comments_002c-Comments"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Style" accesskey="n" rel="next">perlhack Style</a>, Previous: <a href="#perlhack-Commit-message" accesskey="p" rel="previous">perlhack Commit message</a>, Up: <a href="#perlhack-Getting-your-patch-accepted" accesskey="u" rel="up">perlhack Getting your patch accepted</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Comments_002c-Comments_002c-Comments"></a>
<h4 class="subsubsection">29.7.2.3 Comments, Comments, Comments</h4>

<p>Be sure to adequately comment your code. While commenting every line is
unnecessary, anything that takes advantage of side effects of
operators, that creates changes that will be felt outside of the
function being patched, or that others may find confusing should be
documented. If you are going to err, it is better to err on the side of
adding too many comments than too few.
</p>
<p>The best comments explain <em>why</em> the code does what it does, not <em>what
it does</em>.
</p>
<hr>
<a name="perlhack-Style"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Test-suite" accesskey="n" rel="next">perlhack Test suite</a>, Previous: <a href="#perlhack-Comments_002c-Comments_002c-Comments" accesskey="p" rel="previous">perlhack Comments, Comments, Comments</a>, Up: <a href="#perlhack-Getting-your-patch-accepted" accesskey="u" rel="up">perlhack Getting your patch accepted</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Style"></a>
<h4 class="subsubsection">29.7.2.4 Style</h4>

<p>In general, please follow the particular style of the code you are
patching.
</p>
<p>In particular, follow these general guidelines for patching Perl
sources:
</p>
<ul>
<li> 8-wide tabs (no exceptions!)

</li><li> 4-wide indents for code, 2-wide indents for nested CPP #defines

</li><li> Try hard not to exceed 79-columns

</li><li> ANSI C prototypes

</li><li> Uncuddled elses and &quot;K&amp;R&quot; style for indenting control constructs

</li><li> No C++ style (//) comments

</li><li> Mark places that need to be revisited with XXX (and revisit often!)

</li><li> Opening brace lines up with &quot;if&quot; when conditional spans multiple lines;
should be at end-of-line otherwise

</li><li> In function definitions, name starts in column 0 (return value is on
previous line)

</li><li> Single space after keywords that are followed by parens, no space
between function name and following paren

</li><li> Avoid assignments in conditionals, but if they&rsquo;re unavoidable, use
extra paren, e.g. &quot;if (a &amp;&amp; (b = c)) ...&quot;

</li><li> &quot;return foo;&quot; rather than &quot;return(foo);&quot;

</li><li> &quot;if (!foo) ...&quot; rather than &quot;if (foo == FALSE) ...&quot; etc.

</li></ul>

<hr>
<a name="perlhack-Test-suite"></a>
<div class="header">
<p>
Previous: <a href="#perlhack-Style" accesskey="p" rel="previous">perlhack Style</a>, Up: <a href="#perlhack-Getting-your-patch-accepted" accesskey="u" rel="up">perlhack Getting your patch accepted</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Test-suite"></a>
<h4 class="subsubsection">29.7.2.5 Test suite</h4>

<p>If your patch changes code (rather than just changing documentation),
you should also include one or more test cases which illustrate the bug
you&rsquo;re fixing or validate the new functionality you&rsquo;re adding. In
general, you should update an existing test file rather than create a
new one.
</p>
<p>Your test suite additions should generally follow these guidelines
(courtesy of Gurusamy Sarathy &lt;gsar@activestate.com&gt;):
</p>
<ul>
<li> Know what you&rsquo;re testing. Read the docs, and the source.

</li><li> Tend to fail, not succeed.

</li><li> Interpret results strictly.

</li><li> Use unrelated features (this will flush out bizarre interactions).

</li><li> Use non-standard idioms (otherwise you are not testing TIMTOWTDI).

</li><li> Avoid using hardcoded test numbers whenever possible (the EXPECTED/GOT
found in t/op/tie.t is much more maintainable, and gives better failure
reports).

</li><li> Give meaningful error messages when a test fails.

</li><li> Avoid using qx// and system() unless you are testing for them. If you
do use them, make sure that you cover _all_ perl platforms.

</li><li> Unlink any temporary files you create.

</li><li> Promote unforeseen warnings to errors with $SIG{__WARN__}.

</li><li> Be sure to use the libraries and modules shipped with the version being
tested, not those that were already installed.

</li><li> Add comments to the code explaining what you are testing for.

</li><li> Make updating the &rsquo;1..42&rsquo; string unnecessary. Or make sure that you
update it.

</li><li> Test _all_ behaviors of a given operator, library, or function.

<p>Test all optional arguments.
</p>
<p>Test return values in various contexts (boolean, scalar, list, lvalue).
</p>
<p>Use both global and lexical variables.
</p>
<p>Don&rsquo;t forget the exceptional, pathological cases.
</p>
</li></ul>

<hr>
<a name="perlhack-Patching-a-core-module"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Updating-perldelta" accesskey="n" rel="next">perlhack Updating perldelta</a>, Previous: <a href="#perlhack-Getting-your-patch-accepted" accesskey="p" rel="previous">perlhack Getting your patch accepted</a>, Up: <a href="#perlhack-PATCHING-PERL" accesskey="u" rel="up">perlhack PATCHING PERL</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Patching-a-core-module"></a>
<h4 class="subsection">29.7.3 Patching a core module</h4>

<p>This works just like patching anything else, with one extra
consideration.
</p>
<p>Modules in the <samp>cpan/</samp> directory of the source tree are maintained
outside of the Perl core. When the author updates the module, the
updates are simply copied into the core.  See that module&rsquo;s
documentation or its listing on <a href="http://search.cpan.org/">http://search.cpan.org/</a> for more
information on reporting bugs and submitting patches.
</p>
<p>In most cases, patches to modules in <samp>cpan/</samp> should be sent upstream
and should not be applied to the Perl core individually.  If a patch to
a file in <samp>cpan/</samp> absolutely cannot wait for the fix to be made
upstream, released to CPAN and copied to blead, you must add (or
update) a <code>CUSTOMIZED</code> entry in the <samp>&quot;Porting/Maintainers.pl&quot;</samp> file
to flag that a local modification has been made.  See
<samp>&quot;Porting/Maintainers.pl&quot;</samp> for more details.
</p>
<p>In contrast, modules in the <samp>dist/</samp> directory are maintained in the
core.
</p>
<hr>
<a name="perlhack-Updating-perldelta"></a>
<div class="header">
<p>
Next: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="n" rel="next">perlhack What makes for a good patch?</a>, Previous: <a href="#perlhack-Patching-a-core-module" accesskey="p" rel="previous">perlhack Patching a core module</a>, Up: <a href="#perlhack-PATCHING-PERL" accesskey="u" rel="up">perlhack PATCHING PERL</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Updating-perldelta"></a>
<h4 class="subsection">29.7.4 Updating perldelta</h4>

<p>For changes significant enough to warrant a <samp>pod/perldelta.pod</samp> entry,
the porters will greatly appreciate it if you submit a delta entry
along with your actual change. Significant changes include, but are not
limited to:
</p>
<ul>
<li> Adding, deprecating, or removing core features

</li><li> Adding, deprecating, removing, or upgrading core or dual-life modules

</li><li> Adding new core tests

</li><li> Fixing security issues and user-visible bugs in the core

</li><li> Changes that might break existing code, either on the perl or C level

</li><li> Significant performance improvements

</li><li> Adding, removing, or significantly changing documentation in the
<samp>pod/</samp> directory

</li><li> Important platform-specific changes

</li></ul>

<p>Please make sure you add the perldelta entry to the right section
within <samp>pod/perldelta.pod</samp>. More information on how to write good
perldelta entries is available in the <code>Style</code> section of
<samp>Porting/how_to_write_a_perldelta.pod</samp>.
</p>
<hr>
<a name="perlhack-What-makes-for-a-good-patch_003f"></a>
<div class="header">
<p>
Previous: <a href="#perlhack-Updating-perldelta" accesskey="p" rel="previous">perlhack Updating perldelta</a>, Up: <a href="#perlhack-PATCHING-PERL" accesskey="u" rel="up">perlhack PATCHING PERL</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="What-makes-for-a-good-patch_003f"></a>
<h4 class="subsection">29.7.5 What makes for a good patch?</h4>

<p>New features and extensions to the language can be contentious. There
is no specific set of criteria which determine what features get added,
but here are some questions to consider when developing a patch:
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Does-the-concept-match-the-general-goals-of-Perl_003f" accesskey="1">perlhack Does the concept match the general goals of Perl?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Where-is-the-implementation_003f" accesskey="2">perlhack Where is the implementation?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Backwards-compatibility" accesskey="3">perlhack Backwards compatibility</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Could-it-be-a-module-instead_003f" accesskey="4">perlhack Could it be a module instead?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Is-the-feature-generic-enough_003f" accesskey="5">perlhack Is the feature generic enough?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Does-it-potentially-introduce-new-bugs_003f" accesskey="6">perlhack Does it potentially introduce new bugs?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-How-big-is-it_003f" accesskey="7">perlhack How big is it?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Does-it-preclude-other-desirable-features_003f" accesskey="8">perlhack Does it preclude other desirable features?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Is-the-implementation-robust_003f" accesskey="9">perlhack Is the implementation robust?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Is-the-implementation-generic-enough-to-be-portable_003f">perlhack Is the implementation generic enough to be portable?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Is-the-implementation-tested_003f">perlhack Is the implementation tested?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Is-there-enough-documentation_003f">perlhack Is there enough documentation?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Is-there-another-way-to-do-it_003f">perlhack Is there another way to do it?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Does-it-create-too-much-work_003f">perlhack Does it create too much work?</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Patches-speak-louder-than-words">perlhack Patches speak louder than words</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-Does-the-concept-match-the-general-goals-of-Perl_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Where-is-the-implementation_003f" accesskey="n" rel="next">perlhack Where is the implementation?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Does-the-concept-match-the-general-goals-of-Perl_003f"></a>
<h4 class="subsubsection">29.7.5.1 Does the concept match the general goals of Perl?</h4>

<p>Our goals include, but are not limited to:
</p>
<ol>
<li> Keep it fast, simple, and useful.

</li><li> Keep features/concepts as orthogonal as possible.

</li><li> No arbitrary limits (platforms, data sizes, cultures).

</li><li> Keep it open and exciting to use/patch/advocate Perl everywhere.

</li><li> Either assimilate new technologies, or build bridges to them.

</li></ol>

<hr>
<a name="perlhack-Where-is-the-implementation_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Backwards-compatibility" accesskey="n" rel="next">perlhack Backwards compatibility</a>, Previous: <a href="#perlhack-Does-the-concept-match-the-general-goals-of-Perl_003f" accesskey="p" rel="previous">perlhack Does the concept match the general goals of Perl?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Where-is-the-implementation_003f"></a>
<h4 class="subsubsection">29.7.5.2 Where is the implementation?</h4>

<p>All the talk in the world is useless without an implementation. In
almost every case, the person or people who argue for a new feature
will be expected to be the ones who implement it. Porters capable of
coding new features have their own agendas, and are not available to
implement your (possibly good) idea.
</p>
<hr>
<a name="perlhack-Backwards-compatibility"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Could-it-be-a-module-instead_003f" accesskey="n" rel="next">perlhack Could it be a module instead?</a>, Previous: <a href="#perlhack-Where-is-the-implementation_003f" accesskey="p" rel="previous">perlhack Where is the implementation?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Backwards-compatibility-1"></a>
<h4 class="subsubsection">29.7.5.3 Backwards compatibility</h4>

<p>It&rsquo;s a cardinal sin to break existing Perl programs. New warnings can
be contentious&ndash;some say that a program that emits warnings is not
broken, while others say it is. Adding keywords has the potential to
break programs, changing the meaning of existing token sequences or
functions might break programs.
</p>
<p>The Perl 5 core includes mechanisms to help porters make backwards
incompatible changes more compatible such as the <a href="../feature/index.html">(feature)</a> and
<a href="../deprecate/index.html">(deprecate)</a> modules. Please use them when appropriate.
</p>
<hr>
<a name="perlhack-Could-it-be-a-module-instead_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Is-the-feature-generic-enough_003f" accesskey="n" rel="next">perlhack Is the feature generic enough?</a>, Previous: <a href="#perlhack-Backwards-compatibility" accesskey="p" rel="previous">perlhack Backwards compatibility</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Could-it-be-a-module-instead_003f"></a>
<h4 class="subsubsection">29.7.5.4 Could it be a module instead?</h4>

<p>Perl 5 has extension mechanisms, modules and XS, specifically to avoid
the need to keep changing the Perl interpreter. You can write modules
that export functions, you can give those functions prototypes so they
can be called like built-in functions, you can even write XS code to
mess with the runtime data structures of the Perl interpreter if you
want to implement really complicated things.
</p>
<p>Whenever possible, new features should be prototyped in a CPAN module
before they will be considered for the core.
</p>
<hr>
<a name="perlhack-Is-the-feature-generic-enough_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Does-it-potentially-introduce-new-bugs_003f" accesskey="n" rel="next">perlhack Does it potentially introduce new bugs?</a>, Previous: <a href="#perlhack-Could-it-be-a-module-instead_003f" accesskey="p" rel="previous">perlhack Could it be a module instead?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Is-the-feature-generic-enough_003f"></a>
<h4 class="subsubsection">29.7.5.5 Is the feature generic enough?</h4>

<p>Is this something that only the submitter wants added to the language,
or is it broadly useful?  Sometimes, instead of adding a feature with a
tight focus, the porters might decide to wait until someone implements
the more generalized feature.
</p>
<hr>
<a name="perlhack-Does-it-potentially-introduce-new-bugs_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-How-big-is-it_003f" accesskey="n" rel="next">perlhack How big is it?</a>, Previous: <a href="#perlhack-Is-the-feature-generic-enough_003f" accesskey="p" rel="previous">perlhack Is the feature generic enough?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Does-it-potentially-introduce-new-bugs_003f"></a>
<h4 class="subsubsection">29.7.5.6 Does it potentially introduce new bugs?</h4>

<p>Radical rewrites of large chunks of the Perl interpreter have the
potential to introduce new bugs.
</p>
<hr>
<a name="perlhack-How-big-is-it_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Does-it-preclude-other-desirable-features_003f" accesskey="n" rel="next">perlhack Does it preclude other desirable features?</a>, Previous: <a href="#perlhack-Does-it-potentially-introduce-new-bugs_003f" accesskey="p" rel="previous">perlhack Does it potentially introduce new bugs?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="How-big-is-it_003f"></a>
<h4 class="subsubsection">29.7.5.7 How big is it?</h4>

<p>The smaller and more localized the change, the better. Similarly, a
series of small patches is greatly preferred over a single large patch.
</p>
<hr>
<a name="perlhack-Does-it-preclude-other-desirable-features_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Is-the-implementation-robust_003f" accesskey="n" rel="next">perlhack Is the implementation robust?</a>, Previous: <a href="#perlhack-How-big-is-it_003f" accesskey="p" rel="previous">perlhack How big is it?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Does-it-preclude-other-desirable-features_003f"></a>
<h4 class="subsubsection">29.7.5.8 Does it preclude other desirable features?</h4>

<p>A patch is likely to be rejected if it closes off future avenues of
development. For instance, a patch that placed a true and final
interpretation on prototypes is likely to be rejected because there are
still options for the future of prototypes that haven&rsquo;t been addressed.
</p>
<hr>
<a name="perlhack-Is-the-implementation-robust_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Is-the-implementation-generic-enough-to-be-portable_003f" accesskey="n" rel="next">perlhack Is the implementation generic enough to be portable?</a>, Previous: <a href="#perlhack-Does-it-preclude-other-desirable-features_003f" accesskey="p" rel="previous">perlhack Does it preclude other desirable features?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Is-the-implementation-robust_003f"></a>
<h4 class="subsubsection">29.7.5.9 Is the implementation robust?</h4>

<p>Good patches (tight code, complete, correct) stand more chance of going
in. Sloppy or incorrect patches might be placed on the back burner
until the pumpking has time to fix, or might be discarded altogether
without further notice.
</p>
<hr>
<a name="perlhack-Is-the-implementation-generic-enough-to-be-portable_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Is-the-implementation-tested_003f" accesskey="n" rel="next">perlhack Is the implementation tested?</a>, Previous: <a href="#perlhack-Is-the-implementation-robust_003f" accesskey="p" rel="previous">perlhack Is the implementation robust?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Is-the-implementation-generic-enough-to-be-portable_003f"></a>
<h4 class="subsubsection">29.7.5.10 Is the implementation generic enough to be portable?</h4>

<p>The worst patches make use of system-specific features. It&rsquo;s highly
unlikely that non-portable additions to the Perl language will be
accepted.
</p>
<hr>
<a name="perlhack-Is-the-implementation-tested_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Is-there-enough-documentation_003f" accesskey="n" rel="next">perlhack Is there enough documentation?</a>, Previous: <a href="#perlhack-Is-the-implementation-generic-enough-to-be-portable_003f" accesskey="p" rel="previous">perlhack Is the implementation generic enough to be portable?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Is-the-implementation-tested_003f"></a>
<h4 class="subsubsection">29.7.5.11 Is the implementation tested?</h4>

<p>Patches which change behaviour (fixing bugs or introducing new
features) must include regression tests to verify that everything works
as expected.
</p>
<p>Without tests provided by the original author, how can anyone else
changing perl in the future be sure that they haven&rsquo;t unwittingly
broken the behaviour the patch implements? And without tests, how can
the patch&rsquo;s author be confident that his/her hard work put into the
patch won&rsquo;t be accidentally thrown away by someone in the future?
</p>
<hr>
<a name="perlhack-Is-there-enough-documentation_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Is-there-another-way-to-do-it_003f" accesskey="n" rel="next">perlhack Is there another way to do it?</a>, Previous: <a href="#perlhack-Is-the-implementation-tested_003f" accesskey="p" rel="previous">perlhack Is the implementation tested?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Is-there-enough-documentation_003f"></a>
<h4 class="subsubsection">29.7.5.12 Is there enough documentation?</h4>

<p>Patches without documentation are probably ill-thought out or
incomplete. No features can be added or changed without documentation,
so submitting a patch for the appropriate pod docs as well as the
source code is important.
</p>
<hr>
<a name="perlhack-Is-there-another-way-to-do-it_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Does-it-create-too-much-work_003f" accesskey="n" rel="next">perlhack Does it create too much work?</a>, Previous: <a href="#perlhack-Is-there-enough-documentation_003f" accesskey="p" rel="previous">perlhack Is there enough documentation?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Is-there-another-way-to-do-it_003f"></a>
<h4 class="subsubsection">29.7.5.13 Is there another way to do it?</h4>

<p>Larry said &quot;Although the Perl Slogan is <em>There&rsquo;s More Than One Way to
Do It</em>, I hesitate to make 10 ways to do something&quot;. This is a tricky
heuristic to navigate, though&ndash;one man&rsquo;s essential addition is another
man&rsquo;s pointless cruft.
</p>
<hr>
<a name="perlhack-Does-it-create-too-much-work_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Patches-speak-louder-than-words" accesskey="n" rel="next">perlhack Patches speak louder than words</a>, Previous: <a href="#perlhack-Is-there-another-way-to-do-it_003f" accesskey="p" rel="previous">perlhack Is there another way to do it?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Does-it-create-too-much-work_003f"></a>
<h4 class="subsubsection">29.7.5.14 Does it create too much work?</h4>

<p>Work for the pumpking, work for Perl programmers, work for module
authors, ... Perl is supposed to be easy.
</p>
<hr>
<a name="perlhack-Patches-speak-louder-than-words"></a>
<div class="header">
<p>
Previous: <a href="#perlhack-Does-it-create-too-much-work_003f" accesskey="p" rel="previous">perlhack Does it create too much work?</a>, Up: <a href="#perlhack-What-makes-for-a-good-patch_003f" accesskey="u" rel="up">perlhack What makes for a good patch?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Patches-speak-louder-than-words"></a>
<h4 class="subsubsection">29.7.5.15 Patches speak louder than words</h4>

<p>Working code is always preferred to pie-in-the-sky ideas. A patch to
add a feature stands a much higher chance of making it to the language
than does a random feature request, no matter how fervently argued the
request might be. This ties into &quot;Will it be useful?&quot;, as the fact that
someone took the time to make the patch demonstrates a strong desire
for the feature.
</p>
<hr>
<a name="perlhack-TESTING"></a>
<div class="header">
<p>
Next: <a href="#perlhack-MORE-READING-FOR-GUTS-HACKERS" accesskey="n" rel="next">perlhack MORE READING FOR GUTS HACKERS</a>, Previous: <a href="#perlhack-PATCHING-PERL" accesskey="p" rel="previous">perlhack PATCHING PERL</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="TESTING"></a>
<h3 class="section">29.8 TESTING</h3>

<p>The core uses the same testing style as the rest of Perl, a simple
&quot;ok/not ok&quot; run through Test::Harness, but there are a few special
considerations.
</p>
<p>There are three ways to write a test in the core. <a href="../Test-More/index.html">(Test-More)</a>,
<samp>t/test.pl</samp> and ad hoc <code>print $test ? &quot;ok 42\n&quot; : &quot;not ok 42\n&quot;</code>. The
decision of which to use depends on what part of the test suite you&rsquo;re
working on. This is a measure to prevent a high-level failure (such as
Config.pm breaking) from causing basic functionality tests to fail.
</p>
<p>The <samp>t/test.pl</samp> library provides some of the features of
<a href="../Test-More/index.html">(Test-More)</a>, but avoids loading most modules and uses as few core
features as possible.
</p>
<p>If you write your own test, use the <a href="http://testanything.org">Test Anything
Protocol</a>.
</p>
<ul>
<li> <samp>t/base</samp> and <samp>t/comp</samp>

<p>Since we don&rsquo;t know if require works, or even subroutines, use ad hoc
tests for these two. Step carefully to avoid using the feature being
tested.
</p>
</li><li> <samp>t/cmd</samp>, <samp>t/run</samp>, <samp>t/io</samp> and <samp>t/op</samp>

<p>Now that basic require() and subroutines are tested, you can use the
<samp>t/test.pl</samp> library.
</p>
<p>You can also use certain libraries like Config conditionally, but be
sure to skip the test gracefully if it&rsquo;s not there.
</p>
</li><li> Everything else

<p>Now that the core of Perl is tested, <a href="../Test-More/index.html">(Test-More)</a> can and should be
used. You can also use the full suite of core modules in the tests.
</p>
</li></ul>

<p>When you say &quot;make test&quot;, Perl uses the <samp>t/TEST</samp> program to run the
test suite (except under Win32 where it uses <samp>t/harness</samp> instead). All
tests are run from the <samp>t/</samp> directory, <strong>not</strong> the directory which
contains the test. This causes some problems with the tests in <samp>lib/</samp>,
so here&rsquo;s some opportunity for some patching.
</p>
<p>You must be triply conscious of cross-platform concerns. This usually
boils down to using <a href="../File-Spec/index.html">(File-Spec)</a> and avoiding things like <code>fork()</code>
and <code>system()</code> unless absolutely necessary.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Special-make-test-targets" accesskey="1">perlhack Special <code>make test</code> targets</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Parallel-tests" accesskey="2">perlhack Parallel tests</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Running-tests-by-hand" accesskey="3">perlhack Running tests by hand</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Using-t_002fharness-for-testing" accesskey="4">perlhack Using <samp>t/harness</samp> for testing</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-Special-make-test-targets"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Parallel-tests" accesskey="n" rel="next">perlhack Parallel tests</a>, Up: <a href="#perlhack-TESTING" accesskey="u" rel="up">perlhack TESTING</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Special-make-test-targets"></a>
<h4 class="subsection">29.8.1 Special <code>make test</code> targets</h4>

<p>There are various special make targets that can be used to test Perl
slightly differently than the standard &quot;test&quot; target. Not all them are
expected to give a 100% success rate. Many of them have several
aliases, and many of them are not available on certain operating
systems.
</p>
<ul>
<li> test_porting

<p>This runs some basic sanity tests on the source tree and helps catch
basic errors before you submit a patch.
</p>
</li><li> coretest

<p>Run <samp>perl</samp> on all core tests (<samp>t/*</samp> and <samp>lib/[a-z]*</samp> pragma tests).
</p>
<p>(Not available on Win32)
</p>
</li><li> test.deparse

<p>Run all the tests through <a href="../B-Deparse/index.html">(B-Deparse)</a>. Not all tests will succeed.
</p>
<p>(Not available on Win32)
</p>
</li><li> test.taintwarn

<p>Run all tests with the <strong>-t</strong> command-line switch. Not all tests are
expected to succeed (until they&rsquo;re specifically fixed, of course).
</p>
<p>(Not available on Win32)
</p>
</li><li> minitest

<p>Run <samp>miniperl</samp> on <samp>t/base</samp>, <samp>t/comp</samp>, <samp>t/cmd</samp>, <samp>t/run</samp>, <samp>t/io</samp>,
<samp>t/op</samp>, <samp>t/uni</samp> and <samp>t/mro</samp> tests.
</p>
</li><li> test.valgrind check.valgrind utest.valgrind ucheck.valgrind

<p>(Only in Linux) Run all the tests using the memory leak + naughty
memory access tool &quot;valgrind&quot;. The log files will be named
<samp>testname.valgrind</samp>.
</p>
</li><li> test.torture torturetest

<p>Run all the usual tests and some extra tests. As of Perl 5.8.0, the
only extra tests are Abigail&rsquo;s JAPHs, <samp>t/japh/abigail.t</samp>.
</p>
<p>You can also run the torture test with <samp>t/harness</samp> by giving
<code>-torture</code> argument to <samp>t/harness</samp>.
</p>
</li><li> utest ucheck test.utf8 check.utf8

<p>Run all the tests with -Mutf8. Not all tests will succeed.
</p>
<p>(Not available on Win32)
</p>
</li><li> minitest.utf16 test.utf16

<p>Runs the tests with UTF-16 encoded scripts, encoded with different
versions of this encoding.
</p>
<p><code>make utest.utf16</code> runs the test suite with a combination of <code>-utf8</code>
and <code>-utf16</code> arguments to <samp>t/TEST</samp>.
</p>
<p>(Not available on Win32)
</p>
</li><li> test_harness

<p>Run the test suite with the <samp>t/harness</samp> controlling program, instead
of <samp>t/TEST</samp>. <samp>t/harness</samp> is more sophisticated, and uses the
<a href="../Test-Harness/index.html">(Test-Harness)</a> module, thus using this test target supposes that perl
mostly works. The main advantage for our purposes is that it prints a
detailed summary of failed tests at the end. Also, unlike <samp>t/TEST</samp>, it
doesn&rsquo;t redirect stderr to stdout.
</p>
<p>Note that under Win32 <samp>t/harness</samp> is always used instead of <samp>t/TEST</samp>,
so there is no special &quot;test_harness&quot; target.
</p>
<p>Under Win32&rsquo;s &quot;test&quot; target you may use the TEST_SWITCHES and
TEST_FILES environment variables to control the behaviour of
<samp>t/harness</samp>. This means you can say
</p>
<pre class="verbatim">    nmake test TEST_FILES=&quot;op/*.t&quot;
    nmake test TEST_SWITCHES=&quot;-torture&quot; TEST_FILES=&quot;op/*.t&quot;
</pre>
</li><li> test-notty test_notty

<p>Sets PERL_SKIP_TTY_TEST to true before running normal test.
</p>
</li></ul>

<hr>
<a name="perlhack-Parallel-tests"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Running-tests-by-hand" accesskey="n" rel="next">perlhack Running tests by hand</a>, Previous: <a href="#perlhack-Special-make-test-targets" accesskey="p" rel="previous">perlhack Special <code>make test</code> targets</a>, Up: <a href="#perlhack-TESTING" accesskey="u" rel="up">perlhack TESTING</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Parallel-tests"></a>
<h4 class="subsection">29.8.2 Parallel tests</h4>

<p>The core distribution can now run its regression tests in parallel on
Unix-like platforms. Instead of running <code>make test</code>, set <code>TEST_JOBS</code>
in your environment to the number of tests to run in parallel, and run
<code>make test_harness</code>. On a Bourne-like shell, this can be done as
</p>
<pre class="verbatim">    TEST_JOBS=3 make test_harness  # Run 3 tests in parallel
</pre>
<p>An environment variable is used, rather than parallel make itself,
because <a href="../TAP-Harness/index.html">(TAP-Harness)</a> needs to be able to schedule individual
non-conflicting test scripts itself, and there is no standard interface
to <code>make</code> utilities to interact with their job schedulers.
</p>
<p>Note that currently some test scripts may fail when run in parallel
(most notably <samp>ext/IO/t/io_dir.t</samp>). If necessary, run just the failing
scripts again sequentially and see if the failures go away.
</p>
<hr>
<a name="perlhack-Running-tests-by-hand"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Using-t_002fharness-for-testing" accesskey="n" rel="next">perlhack Using <samp>t/harness</samp> for testing</a>, Previous: <a href="#perlhack-Parallel-tests" accesskey="p" rel="previous">perlhack Parallel tests</a>, Up: <a href="#perlhack-TESTING" accesskey="u" rel="up">perlhack TESTING</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Running-tests-by-hand"></a>
<h4 class="subsection">29.8.3 Running tests by hand</h4>

<p>You can run part of the test suite by hand by using one of the
following commands from the <samp>t/</samp> directory:
</p>
<pre class="verbatim">    ./perl -I../lib TEST list-of-.t-files
</pre>
<p>or
</p>
<pre class="verbatim">    ./perl -I../lib harness list-of-.t-files
</pre>
<p>(If you don&rsquo;t specify test scripts, the whole test suite will be run.)
</p>
<hr>
<a name="perlhack-Using-t_002fharness-for-testing"></a>
<div class="header">
<p>
Previous: <a href="#perlhack-Running-tests-by-hand" accesskey="p" rel="previous">perlhack Running tests by hand</a>, Up: <a href="#perlhack-TESTING" accesskey="u" rel="up">perlhack TESTING</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Using-t_002fharness-for-testing"></a>
<h4 class="subsection">29.8.4 Using <samp>t/harness</samp> for testing</h4>

<p>If you use <code>harness</code> for testing, you have several command line
options available to you. The arguments are as follows, and are in the
order that they must appear if used together.
</p>
<pre class="verbatim">    harness -v -torture -re=pattern LIST OF FILES TO TEST
    harness -v -torture -re LIST OF PATTERNS TO MATCH
</pre>
<p>If <code>LIST OF FILES TO TEST</code> is omitted, the file list is obtained from
the manifest. The file list may include shell wildcards which will be
expanded out.
</p>
<ul>
<li> -v

<p>Run the tests under verbose mode so you can see what tests were run,
and debug output.
</p>
</li><li> -torture

<p>Run the torture tests as well as the normal set.
</p>
</li><li> -re=PATTERN

<p>Filter the file list so that all the test files run match PATTERN. Note
that this form is distinct from the <strong>-re LIST OF PATTERNS</strong> form below
in that it allows the file list to be provided as well.
</p>
</li><li> -re LIST OF PATTERNS

<p>Filter the file list so that all the test files run match
/(LIST|OF|PATTERNS)/. Note that with this form the patterns are joined
by &rsquo;|&rsquo; and you cannot supply a list of files, instead the test files
are obtained from the MANIFEST.
</p>
</li></ul>

<p>You can run an individual test by a command similar to
</p>
<pre class="verbatim">    ./perl -I../lib path/to/foo.t
</pre>
<p>except that the harnesses set up some environment variables that may
affect the execution of the test:
</p>
<ul>
<li> PERL_CORE=1

<p>indicates that we&rsquo;re running this test as part of the perl core test
suite. This is useful for modules that have a dual life on CPAN.
</p>
</li><li> PERL_DESTRUCT_LEVEL=2

<p>is set to 2 if it isn&rsquo;t set already (see
<a href="perlhacktips.html#perlhacktips-PERL_005fDESTRUCT_005fLEVEL">perlhacktips PERL_DESTRUCT_LEVEL</a>).
</p>
</li><li> PERL

<p>(used only by <samp>t/TEST</samp>) if set, overrides the path to the perl
executable that should be used to run the tests (the default being
<samp>./perl</samp>).
</p>
</li><li> PERL_SKIP_TTY_TEST

<p>if set, tells to skip the tests that need a terminal. It&rsquo;s actually set
automatically by the Makefile, but can also be forced artificially by
running &rsquo;make test_notty&rsquo;.
</p>
</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Other-environment-variables-that-may-influence-tests" accesskey="1">perlhack Other environment variables that may influence tests</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-Other-environment-variables-that-may-influence-tests"></a>
<div class="header">
<p>
Up: <a href="#perlhack-Using-t_002fharness-for-testing" accesskey="u" rel="up">perlhack Using <samp>t/harness</samp> for testing</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Other-environment-variables-that-may-influence-tests"></a>
<h4 class="subsubsection">29.8.4.1 Other environment variables that may influence tests</h4>

<ul>
<li> PERL_TEST_Net_Ping

<p>Setting this variable runs all the Net::Ping modules tests, otherwise
some tests that interact with the outside world are skipped. See
<a href="../perl58delta/index.html">(perl58delta)</a>.
</p>
</li><li> PERL_TEST_NOVREXX

<p>Setting this variable skips the vrexx.t tests for OS2::REXX.
</p>
</li><li> PERL_TEST_NUMCONVERTS

<p>This sets a variable in op/numconvert.t.
</p>
</li></ul>

<p>See also the documentation for the Test and Test::Harness modules, for
more environment variables that affect testing.
</p>
<hr>
<a name="perlhack-MORE-READING-FOR-GUTS-HACKERS"></a>
<div class="header">
<p>
Next: <a href="#perlhack-CPAN-TESTERS-AND-PERL-SMOKERS" accesskey="n" rel="next">perlhack CPAN TESTERS AND PERL SMOKERS</a>, Previous: <a href="#perlhack-TESTING" accesskey="p" rel="previous">perlhack TESTING</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="MORE-READING-FOR-GUTS-HACKERS"></a>
<h3 class="section">29.9 MORE READING FOR GUTS HACKERS</h3>

<p>To hack on the Perl guts, you&rsquo;ll need to read the following things:
</p>
<ul>
<li> <a href="perlsource.html#perlsource-NAME">perlsource NAME</a>

<p>An overview of the Perl source tree. This will help you find the files
you&rsquo;re looking for.
</p>
</li><li> <a href="perlinterp.html#perlinterp-NAME">perlinterp NAME</a>

<p>An overview of the Perl interpreter source code and some details on how
Perl does what it does.
</p>
</li><li> <a href="perlhacktut.html#perlhacktut-NAME">perlhacktut NAME</a>

<p>This document walks through the creation of a small patch to Perl&rsquo;s C
code. If you&rsquo;re just getting started with Perl core hacking, this will
help you understand how it works.
</p>
</li><li> <a href="perlhacktips.html#perlhacktips-NAME">perlhacktips NAME</a>

<p>More details on hacking the Perl core. This document focuses on lower
level details such as how to write tests, compilation issues,
portability, debugging, etc.
</p>
<p>If you plan on doing serious C hacking, make sure to read this.
</p>
</li><li> <a href="perlguts.html#perlguts-NAME">perlguts NAME</a>

<p>This is of paramount importance, since it&rsquo;s the documentation of what
goes where in the Perl source. Read it over a couple of times and it
might start to make sense - don&rsquo;t worry if it doesn&rsquo;t yet, because the
best way to study it is to read it in conjunction with poking at Perl
source, and we&rsquo;ll do that later on.
</p>
<p>Gisle Aas&rsquo;s &quot;illustrated perlguts&quot;, also known as <em>illguts</em>, has very
helpful pictures:
</p>
<p><a href="http://search.cpan.org/dist/illguts/">http://search.cpan.org/dist/illguts/</a>
</p>
</li><li> <a href="../perlxstut/index.html">(perlxstut)</a> and <a href="../perlxs/index.html">(perlxs)</a>

<p>A working knowledge of XSUB programming is incredibly useful for core
hacking; XSUBs use techniques drawn from the PP code, the portion of
the guts that actually executes a Perl program. It&rsquo;s a lot gentler to
learn those techniques from simple examples and explanation than from
the core itself.
</p>
</li><li> <a href="../perlapi/index.html">(perlapi)</a>

<p>The documentation for the Perl API explains what some of the internal
functions do, as well as the many macros used in the source.
</p>
</li><li> <samp>Porting/pumpkin.pod</samp>

<p>This is a collection of words of wisdom for a Perl porter; some of it
is only useful to the pumpkin holder, but most of it applies to anyone
wanting to go about Perl development.
</p>
</li><li> The perl5-porters FAQ

<p>This should be available from
http://dev.perl.org/perl5/docs/p5p-faq.html . It contains hints on
reading perl5-porters, information on how perl5-porters works and how
Perl development in general works.
</p>
</li></ul>

<hr>
<a name="perlhack-CPAN-TESTERS-AND-PERL-SMOKERS"></a>
<div class="header">
<p>
Next: <a href="#perlhack-WHAT-NEXT_003f" accesskey="n" rel="next">perlhack WHAT NEXT?</a>, Previous: <a href="#perlhack-MORE-READING-FOR-GUTS-HACKERS" accesskey="p" rel="previous">perlhack MORE READING FOR GUTS HACKERS</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="CPAN-TESTERS-AND-PERL-SMOKERS"></a>
<h3 class="section">29.10 CPAN TESTERS AND PERL SMOKERS</h3>

<p>The CPAN testers ( http://testers.cpan.org/ ) are a group of volunteers
who test CPAN modules on a variety of platforms.
</p>
<p>Perl Smokers ( http://www.nntp.perl.org/group/perl.daily-build/ and
http://www.nntp.perl.org/group/perl.daily-build.reports/ )
automatically test Perl source releases on platforms with various
configurations.
</p>
<p>Both efforts welcome volunteers. In order to get involved in smoke
testing of the perl itself visit
<a href="http://search.cpan.org/dist/Test-Smoke/">http://search.cpan.org/dist/Test-Smoke/</a>. In order to start smoke
testing CPAN modules visit
<a href="http://search.cpan.org/dist/CPANPLUS-YACSmoke/">http://search.cpan.org/dist/CPANPLUS-YACSmoke/</a> or
<a href="http://search.cpan.org/dist/minismokebox/">http://search.cpan.org/dist/minismokebox/</a> or
<a href="http://search.cpan.org/dist/CPAN-Reporter/">http://search.cpan.org/dist/CPAN-Reporter/</a>.
</p>
<hr>
<a name="perlhack-WHAT-NEXT_003f"></a>
<div class="header">
<p>
Next: <a href="#perlhack-AUTHOR" accesskey="n" rel="next">perlhack AUTHOR</a>, Previous: <a href="#perlhack-CPAN-TESTERS-AND-PERL-SMOKERS" accesskey="p" rel="previous">perlhack CPAN TESTERS AND PERL SMOKERS</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="WHAT-NEXT_003f"></a>
<h3 class="section">29.11 WHAT NEXT?</h3>

<p>If you&rsquo;ve read all the documentation in the document and the ones
listed above, you&rsquo;re more than ready to hack on Perl.
</p>
<p>Here&rsquo;s some more recommendations
</p>
<ul>
<li> Subscribe to perl5-porters, follow the patches and try and understand
them; don&rsquo;t be afraid to ask if there&rsquo;s a portion you&rsquo;re not clear on -
who knows, you may unearth a bug in the patch...

</li><li> Do read the README associated with your operating system, e.g.
README.aix on the IBM AIX OS. Don&rsquo;t hesitate to supply patches to that
README if you find anything missing or changed over a new OS release.

</li><li> Find an area of Perl that seems interesting to you, and see if you can
work out how it works. Scan through the source, and step over it in the
debugger. Play, poke, investigate, fiddle! You&rsquo;ll probably get to
understand not just your chosen area but a much wider range of
<samp>perl</samp>&rsquo;s activity as well, and probably sooner than you&rsquo;d think.

</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#perlhack-_0022The-Road-goes-ever-on-and-on_002c-down-from-the-door-where-it-began_002e_0022" accesskey="1">perlhack &quot;The Road goes ever on and on, down from the door where it began.&quot;</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#perlhack-Metaphoric-Quotations" accesskey="2">perlhack Metaphoric Quotations</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="perlhack-_0022The-Road-goes-ever-on-and-on_002c-down-from-the-door-where-it-began_002e_0022"></a>
<div class="header">
<p>
Next: <a href="#perlhack-Metaphoric-Quotations" accesskey="n" rel="next">perlhack Metaphoric Quotations</a>, Up: <a href="#perlhack-WHAT-NEXT_003f" accesskey="u" rel="up">perlhack WHAT NEXT?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="g_t_0022The-Road-goes-ever-on-and-on_002c-down-from-the-door-where-it-began_002e_0022"></a>
<h4 class="subsection">29.11.1 &quot;The Road goes ever on and on, down from the door where it began.&quot;</h4>

<p>If you can do these things, you&rsquo;ve started on the long road to Perl
porting. Thanks for wanting to help make Perl better - and happy
hacking!
</p>
<hr>
<a name="perlhack-Metaphoric-Quotations"></a>
<div class="header">
<p>
Previous: <a href="#perlhack-_0022The-Road-goes-ever-on-and-on_002c-down-from-the-door-where-it-began_002e_0022" accesskey="p" rel="previous">perlhack &quot;The Road goes ever on and on, down from the door where it began.&quot;</a>, Up: <a href="#perlhack-WHAT-NEXT_003f" accesskey="u" rel="up">perlhack WHAT NEXT?</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="Metaphoric-Quotations"></a>
<h4 class="subsection">29.11.2 Metaphoric Quotations</h4>

<p>If you recognized the quote about the Road above, you&rsquo;re in luck.
</p>
<p>Most software projects begin each file with a literal description of
each file&rsquo;s purpose. Perl instead begins each with a literary allusion
to that file&rsquo;s purpose.
</p>
<p>Like chapters in many books, all top-level Perl source files (along
with a few others here and there) begin with an epigrammatic
inscription that alludes, indirectly and metaphorically, to the
material you&rsquo;re about to read.
</p>
<p>Quotations are taken from writings of J.R.R. Tolkien pertaining to his
Legendarium, almost always from <em>The Lord of the Rings</em>. Chapters and
page numbers are given using the following editions:
</p>
<ul>
<li> <em>The Hobbit</em>, by J.R.R. Tolkien. The hardcover, 70th-anniversary
edition of 2007 was used, published in the UK by Harper Collins
Publishers and in the US by the Houghton Mifflin Company.

</li><li> <em>The Lord of the Rings</em>, by J.R.R. Tolkien. The hardcover,
50th-anniversary edition of 2004 was used, published in the UK by
Harper Collins Publishers and in the US by the Houghton Mifflin
Company.

</li><li> <em>The Lays of Beleriand</em>, by J.R.R. Tolkien and published posthumously
by his son and literary executor, C.J.R. Tolkien, being the 3rd of the
12 volumes in Christopher&rsquo;s mammoth <em>History of Middle Earth</em>. Page
numbers derive from the hardcover edition, first published in 1983 by
George Allen &amp; Unwin; no page numbers changed for the special 3-volume
omnibus edition of 2002 or the various trade-paper editions, all again
now by Harper Collins or Houghton Mifflin.

</li></ul>

<p>Other JRRT books fair game for quotes would thus include <em>The
Adventures of Tom Bombadil</em>, <em>The Silmarillion</em>, <em>Unfinished Tales</em>,
and <em>The Tale of the Children of Hurin</em>, all but the first
posthumously assembled by CJRT. But <em>The Lord of the Rings</em> itself is
perfectly fine and probably best to quote from, provided you can find a
suitable quote there.
</p>
<p>So if you were to supply a new, complete, top-level source file to add
to Perl, you should conform to this peculiar practice by yourself
selecting an appropriate quotation from Tolkien, retaining the original
spelling and punctuation and using the same format the rest of the
quotes are in. Indirect and oblique is just fine; remember, it&rsquo;s a
metaphor, so being meta is, after all, what it&rsquo;s for.
</p>
<hr>
<a name="perlhack-AUTHOR"></a>
<div class="header">
<p>
Previous: <a href="#perlhack-WHAT-NEXT_003f" accesskey="p" rel="previous">perlhack WHAT NEXT?</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<a name="AUTHOR-11"></a>
<h3 class="section">29.12 AUTHOR</h3>

<p>This document was originally written by Nathan Torkington, and is
maintained by the perl5-porters mailing list.
</p>
<hr>
<div class="header">
<p>
Previous: <a href="#perlhack-WHAT-NEXT_003f" accesskey="p" rel="previous">perlhack WHAT NEXT?</a>, Up: <a href="#perlhack" accesskey="u" rel="up">perlhack</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>



</body>
</html>
