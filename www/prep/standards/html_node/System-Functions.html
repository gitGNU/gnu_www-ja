<html lang="en">
<head>
<title>System Functions - GNU Coding Standards</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Coding Standards">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Writing-C.html#Writing-C" title="Writing C">
<link rel="prev" href="CPU-Portability.html#CPU-Portability" title="CPU Portability">
<link rel="next" href="Internationalization.html#Internationalization" title="Internationalization">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
The GNU coding standards, last updated April 7, 2012.

Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and with no Back-Cover
Texts.  A copy of the license is included in the section entitled
``GNU Free Documentation License''.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="System-Functions"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Internationalization.html#Internationalization">Internationalization</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="CPU-Portability.html#CPU-Portability">CPU Portability</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Writing-C.html#Writing-C">Writing C</a>
<hr>
</div>

<h3 class="section">5.7 Calling System Functions</h3>

<p><a name="index-C-library-functions_002c-and-portability-107"></a><a name="index-POSIX-functions_002c-and-portability-108"></a><a name="index-library-functions_002c-and-portability-109"></a><a name="index-portability_002c-and-library-functions-110"></a>
Historically, C implementations differed substantially, and many
systems lacked a full implementation of ANSI/ISO C89.  Nowadays,
however, very few systems lack a C89 compiler and GNU C supports
almost all of C99.  Similarly, most systems implement POSIX.1-1993
libraries and tools, and many have POSIX.1-2001.

   <p>Hence, there is little reason to support old C or non-POSIX systems,
and you may want to take advantage of C99 and POSIX-1.2001 to write
clearer, more portable, or faster code.  You should use standard
interfaces where possible; but if GNU extensions make your program
more maintainable, powerful, or otherwise better, don't hesitate to
use them.  In any case, don't make your own declaration of system
functions; that's a recipe for conflict.

   <p>Despite the standards, nearly every library function has some sort of
portability issue on some system or another.  Here are some examples:

     <dl>
<dt><code>open</code><dd>Names with trailing <code>/</code>'s are mishandled on many platforms.

     <br><dt><code>printf</code><dd><code>long double</code> may be unimplemented; floating values Infinity and
NaN are often mishandled; output for large precisions may be
incorrect.

     <br><dt><code>readlink</code><dd>May return <code>int</code> instead of <code>ssize_t</code>.

     <br><dt><code>scanf</code><dd>On Windows, <code>errno</code> is not set on failure. 
</dl>

   <p><a name="index-Gnulib-111"></a><a href="http://www.gnu.org/software/gnulib/">Gnulib</a> is a big help in
this regard.  Gnulib provides implementations of standard interfaces
on many of the systems that lack them, including portable
implementations of enhanced GNU interfaces, thereby making their use
portable, and of POSIX-1.2008 interfaces, some of which are missing
even on up-to-date GNU systems.

   <p><a name="index-xmalloc_002c-in-Gnulib-112"></a><a name="index-error-messages_002c-in-Gnulib-113"></a><a name="index-data-structures_002c-in-Gnulib-114"></a>Gnulib also provides many useful non-standard interfaces; for example,
C implementations of standard data structures (hash tables, binary
trees), error-checking type-safe wrappers for memory allocation
functions (<code>xmalloc</code>, <code>xrealloc</code>), and output of error
messages.

   <p>Gnulib integrates with GNU Autoconf and Automake to remove much of the
burden of writing portable code from the programmer: Gnulib makes your
configure script automatically determine what features are missing and
use the Gnulib code to supply the missing pieces.

   <p>The Gnulib and Autoconf manuals have extensive sections on
portability: <a href="../gnulib/index.html#Top">Introduction</a> and
see <a href="../autoconf/Portable-C-and-C_002b_002b.html#Portable-C-and-C_002b_002b">Portable C and C++</a>.  Please consult them
for many more details.

   </body></html>

