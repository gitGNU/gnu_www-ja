<html lang="en">
<head>
<title>Syntactic Conventions - GNU Coding Standards</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Coding Standards">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Writing-C.html#Writing-C" title="Writing C">
<link rel="prev" href="Comments.html#Comments" title="Comments">
<link rel="next" href="Names.html#Names" title="Names">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
The GNU coding standards, last updated April 7, 2012.

Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and with no Back-Cover
Texts.  A copy of the license is included in the section entitled
``GNU Free Documentation License''.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Syntactic-Conventions"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Names.html#Names">Names</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Comments.html#Comments">Comments</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Writing-C.html#Writing-C">Writing C</a>
<hr>
</div>

<h3 class="section">5.3 Clean Use of C Constructs</h3>

<p><a name="index-syntactic-conventions-89"></a>
<a name="index-implicit-_0040code_007bint_007d-90"></a><a name="index-function-argument_002c-declaring-91"></a>Please explicitly declare the types of all objects.  For example, you
should explicitly declare all arguments to functions, and you should
declare functions to return <code>int</code> rather than omitting the
<code>int</code>.

   <p><a name="index-compiler-warnings-92"></a><a name="index-g_t_0040samp_007b_002dWall_007d-compiler-option-93"></a>Some programmers like to use the GCC &lsquo;<samp><span class="samp">-Wall</span></samp>&rsquo; option, and change the
code whenever it issues a warning.  If you want to do this, then do. 
Other programmers prefer not to use &lsquo;<samp><span class="samp">-Wall</span></samp>&rsquo;, because it gives
warnings for valid and legitimate code which they do not want to change. 
If you want to do this, then do.  The compiler should be your servant,
not your master.

   <p><a name="index-clang-94"></a><a name="index-lint-95"></a>Don't make the program ugly just to placate static analysis tools such
as <samp><span class="command">lint</span></samp>, <samp><span class="command">clang</span></samp>, and GCC with extra warnings
options such as <samp><span class="option">-Wconversion</span></samp> and <samp><span class="option">-Wundef</span></samp>.  These
tools can help find bugs and unclear code, but they can also generate
so many false alarms that it hurts readability to silence them with
unnecessary casts, wrappers, and other complications.  For example,
please don't insert casts to <code>void</code> or calls to do-nothing
functions merely to pacify a lint checker.

   <p>Declarations of external functions and functions to appear later in the
source file should all go in one place near the beginning of the file
(somewhere before the first function definition in the file), or else
should go in a header file.  Don't put <code>extern</code> declarations inside
functions.

   <p><a name="index-temporary-variables-96"></a>It used to be common practice to use the same local variables (with
names like <code>tem</code>) over and over for different values within one
function.  Instead of doing this, it is better to declare a separate local
variable for each distinct purpose, and give it a name which is
meaningful.  This not only makes programs easier to understand, it also
facilitates optimization by good compilers.  You can also move the
declaration of each local variable into the smallest scope that includes
all its uses.  This makes the program even cleaner.

   <p>Don't use local variables or parameters that shadow global identifiers. 
GCC's &lsquo;<samp><span class="samp">-Wshadow</span></samp>&rsquo; option can detect this problem.

   <p><a name="index-multiple-variables-in-a-line-97"></a>Don't declare multiple variables in one declaration that spans lines. 
Start a new declaration on each line, instead.  For example, instead
of this:

<pre class="example">     int    foo,
            bar;
</pre>
   <p class="noindent">write either this:

<pre class="example">     int foo, bar;
</pre>
   <p class="noindent">or this:

<pre class="example">     int foo;
     int bar;
</pre>
   <p class="noindent">(If they are global variables, each should have a comment preceding it
anyway.)

   <p>When you have an <code>if</code>-<code>else</code> statement nested in another
<code>if</code> statement, always put braces around the <code>if</code>-<code>else</code>. 
Thus, never write like this:

<pre class="example">     if (foo)
       if (bar)
         win ();
       else
         lose ();
</pre>
   <p class="noindent">always like this:

<pre class="example">     if (foo)
       {
         if (bar)
           win ();
         else
           lose ();
       }
</pre>
   <p>If you have an <code>if</code> statement nested inside of an <code>else</code>
statement, either write <code>else if</code> on one line, like this,

<pre class="example">     if (foo)
       ...
     else if (bar)
       ...
</pre>
   <p class="noindent">with its <code>then</code>-part indented like the preceding <code>then</code>-part,
or write the nested <code>if</code> within braces like this:

<pre class="example">     if (foo)
       ...
     else
       {
         if (bar)
           ...
       }
</pre>
   <p>Don't declare both a structure tag and variables or typedefs in the
same declaration.  Instead, declare the structure tag separately
and then use it to declare the variables or typedefs.

   <p>Try to avoid assignments inside <code>if</code>-conditions (assignments
inside <code>while</code>-conditions are ok).  For example, don't write
this:

<pre class="example">     if ((foo = (char *) malloc (sizeof *foo)) == 0)
       fatal ("virtual memory exhausted");
</pre>
   <p class="noindent">instead, write this:

<pre class="example">     foo = (char *) malloc (sizeof *foo);
     if (foo == 0)
       fatal ("virtual memory exhausted");
</pre>
   <p>This example uses zero without a cast as a null pointer constant. 
This is perfectly fine, except that a cast is needed when calling a
varargs function or when using <code>sizeof</code>.

   </body></html>

