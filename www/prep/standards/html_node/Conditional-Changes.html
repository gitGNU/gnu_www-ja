<html lang="en">
<head>
<title>Conditional Changes - GNU Coding Standards</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Coding Standards">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Change-Logs.html#Change-Logs" title="Change Logs">
<link rel="prev" href="Simple-Changes.html#Simple-Changes" title="Simple Changes">
<link rel="next" href="Indicating-the-Part-Changed.html#Indicating-the-Part-Changed" title="Indicating the Part Changed">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
The GNU coding standards, last updated April 7, 2012.

Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,
2011, 2012 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and with no Back-Cover
Texts.  A copy of the license is included in the section entitled
``GNU Free Documentation License''.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Conditional-Changes"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Indicating-the-Part-Changed.html#Indicating-the-Part-Changed">Indicating the Part Changed</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Simple-Changes.html#Simple-Changes">Simple Changes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Change-Logs.html#Change-Logs">Change Logs</a>
<hr>
</div>

<h4 class="subsection">6.8.4 Conditional Changes</h4>

<p><a name="index-conditional-changes_002c-and-change-logs-138"></a><a name="index-change-logs_002c-conditional-changes-139"></a>
Source files can often contain code that is conditional to build-time
or static conditions.  For example, C programs can contain
compile-time <code>#if</code> conditionals; programs implemented in
interpreted languages can contain module imports of function
definitions that are only performed for certain versions of the
interpreter; and Automake <samp><span class="file">Makefile.am</span></samp> files can contain
variable definitions or target declarations that are only to be
considered if a configure-time Automake conditional is true.

   <p>Many changes are conditional as well: sometimes you add a new variable,
or function, or even a new program or library, which is entirely
dependent on a build-time condition.  It is useful to indicate
in the change log the conditions for which a change applies.

   <p>Our convention for indicating conditional changes is to use
<em>square brackets around the name of the condition</em>.

   <p>Conditional changes can happen in numerous scenarios and with many
variations, so here are some examples to help clarify.  This first
example describes changes in C, Perl, and Python files which are
conditional but do not have an associated function or entity name:

<pre class="example">     * xterm.c [SOLARIS2]: Include &lt;string.h&gt;.
     * FilePath.pm [$^O eq 'VMS']: Import the VMS::Feature module.
     * framework.py [sys.version_info &lt; (2, 6)]: Make "with" statement
       available by importing it from __future__,
       to support also python 2.5.
</pre>
   <p>Our other examples will for simplicity be limited to C, as the minor
changes necessary to adapt them to other languages should be
self-evident.

   <p>Next, here is an entry describing a new definition which is entirely
conditional: the C macro <code>FRAME_WINDOW_P</code> is defined (and used)
only when the macro <code>HAVE_X_WINDOWS</code> is defined:

<pre class="example">     * frame.h [HAVE_X_WINDOWS] (FRAME_WINDOW_P): Macro defined.
</pre>
   <p>Next, an entry for a change within the function <code>init_display</code>,
whose definition as a whole is unconditional, but the changes
themselves are contained in a &lsquo;<samp><span class="samp">#ifdef HAVE_LIBNCURSES</span></samp>&rsquo;
conditional:

<pre class="example">     * dispnew.c (init_display) [HAVE_LIBNCURSES]: If X, call tgetent.
</pre>
   <p>Finally, here is an entry for a change that takes effect only when
a certain macro is <em>not</em> defined:

<pre class="example">     (gethostname) [!HAVE_SOCKETS]: Replace with winsock version.
</pre>
   </body></html>

